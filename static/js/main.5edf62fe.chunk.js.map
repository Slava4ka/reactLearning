{"version":3,"sources":["redux/redusers/dialogs-reducer.js","Components/Body/Posts/Posts.module.css","assets/images/Spin-1s-200px.svg","serviceWorker.js","Components/Navbar/Navbar.jsx","Components/Header/Header.jsx","api/api.js","redux/redusers/auth-reducer.js","Components/Header/HeaderContainer.js","Components/Body/Posts/Post.jsx","utils/validators/validator.js","Components/common/FormsControls/FormsControls.jsx","Components/Body/Posts/Posts.jsx","redux/redusers/posts-reducer.js","Components/Body/Posts/PostsContainer.jsx","Components/Body/Users/User.jsx","Components/common/Pagination/Pagination.jsx","Components/Body/Users/Users.jsx","Components/common/Preloader/Preloader.js","utils/object-helpers.js","redux/redusers/users-reducer.js","redux/selectors/users-selectors.js","Components/Body/Users/UsersContainer.js","redux/redusers/profile-reducer.js","Components/Body/Profile/ProfileStatusWithHooks.jsx","Components/Body/Profile/Contacts.jsx","Components/Body/Profile/ProfileDataForm.jsx","Components/Body/Profile/ProfileVer2.jsx","Components/Body/Profile/ProfileContainer.js","Components/Body/Store/Product.jsx","Components/Body/Store/Shop.jsx","Components/Body/Papers/Paper.js","Components/Body/Papers/Papers.jsx","Components/Body/Garbage/GarbageFromTosterRu.jsx","Components/Body/Login/Login.jsx","Components/Body/News/News.jsx","Components/Body/News/NewsContainer.js","redux/redusers/app-reducer.js","redux/redux-store.js","Components/App.js","hoc/withLazySuspence.js","index.js","Components/Body/Login/Login.module.css","Components/Body/Store/Product.module.css","Components/Body/News/News.module.css","Components/Body/Profile/Profile.module.css","Components/Body/Papers/Papers.module.css","Components/Navbar/Navbar.module.css","Components/Header/Header.module.css","Components/common/FormsControls/FormsControls.module.css","Components/Body/Users/Users.module.css","Components/common/Pagination/Pagination.module.css","Components/Body/Garbage/Garbage.module.css"],"names":["SEND_MESSAGE","initialState","users","id","name","messages","message","createSendNewMessageAction","newMessageBody","type","dialogsReducer","state","arguments","length","undefined","action","messageToState","Object","C_Users_Slava_WebstormProjects_react_test_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","concat","C_Users_Slava_WebstormProjects_react_test_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","sendMessage","module","exports","postsBody","__webpack_require__","p","Boolean","window","location","hostname","match","Navbar","_useState","useState","_useState2","slicedToArray","convolute","setConvolute","styleOfUsersBox","style","usersPressed","usersNotPressed","react_default","a","createElement","className","nav","item","react_router_dom","to","activeClassName","activeLink","onClick","Header","props","header","src","alt","userId","loginBlock","avatar","isAuth","logOut","instance","axios","withCredentials","baseURL","headers","API-KEY","userApi","getUsers","currentPage","pageSize","get","then","response","data","follow","post","unfollow","delete","authMe","authApi","login","email","password","rememberMe","loginOut","profileAPI","responce","status","put","file","formData","FormData","append","Content-Type","profile","isFetching","setAuthUserData","setUsersAvatar","authReducer","objectSpread","HeaderContainer","Header_Header","this","React","Component","connect","auth","dispatch","console","log","resultCode","Post","maxLenght","likesCount","requiredField","value","FormControl","_ref","input","_ref$meta","meta","touched","error","children","hasError","formControl","Textarea","restProps","child","objectWithoutProperties","FormsControls_FormControl","assign","Input","createField","placeholder","validators","component","text","Field","validate","maxLengthCreator10","AddNewPostFormRedux","reduxForm","form","onSubmit","handleSubmit","Posts","values","addPost","newPostText","posts","map","el","Posts_Post","key","ADD_POST","postsReducer","newPost","toConsumableArray","PostsContainer","postsPage","createAddPostAction","User","user","followingInProgress","styles","card","photos","small","usersPhoto","followed","disabled","some","Pagination","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pagination","filter","e","selectedPage","Users","common_Pagination_Pagination","totalUsersCount","paginatorPortionSize","Users_User","Preloader","preLoader","updateObjectInArray","entity","entityId","propName","newProp","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_FOLLOWING_IN_PROGRESS","followAccept","unfollowAccept","setToggleFetching","toggleFollowingProgress","inProgress","followUnfollowFlow","asyncToGenerator","regenerator_default","mark","_callee","apiMethod","actionCreator","wrap","_context","prev","next","sent","stop","_x","_x2","_x3","_x4","apply","usersReducer","getUsersSelector","usersPage","getPageSizeSelector","createSelector","totalUsersCountSelector","currentPageSelector","paginatorPortionSizeSelector","isFetchingSelector","followingInProgressSelector","myIdSelector","UsersComponent","componentDidMount","_this","pageNumber","Fragment","common_Preloader_Preloader","Body_Users_Users","compose","myId","_ref2","_callee2","_context2","bind","_x5","_ref3","_callee3","_context3","_x6","firstLoad","setCurrentPage","items","totalCount","SET_USERS_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","initalState","setStatus","getProfile","profileReducer","ProfileStatusWithHooks","editMode","setEditMode","_useState3","_useState4","useEffect","deactivateEditMode","updateStatus","onDoubleClick","onChange","currentTarget","autoFocus","onBlur","onKeyPress","Contact","contactTitle","contactValue","ProfileDataReduxForm","lookingForAJobCheckboxParams","lookingForAJob","checked","errorMessage","keys","contacts","ProfileData","isOwner","goToEditMode","fullName","lookingForAJobDescription","aboutMe","Contacts","Profile","savePhoto","saveProfile","profileBody","row","pictureAndSocial","large","target","files","Profile_ProfileStatusWithHooks","info","Profile_ProfileDataForm","initialValues","ProfileVer2_ProfileData","ProfileContainer","params","authorizedUserId","history","getStatus","refreshProfile","prevProps","prevState","snapshot","ProfileVer2","profilePage","dispach","getState","stopSubmit","_error","abrupt","Promise","reject","withRouter","Product","goods_item","picture","img","priceAndAdd","price","add","shop","image","Shop","Store_Product","Paper","changeSizeOfPaper","full_dress","Papers","papers","Papers_Paper","ChildComponent","childComponent","isActive","active","data-id","data-name","ParentComponent","setActive","receiveId","Number","dataset","n","GarbageFromTosterRu_ChildComponent","temp","ReduxLoginForm","dwsInput","dwsSubmit","profileData","react_router","container","News","box","disconnect","classes","setClasses","replace","NewsContainer","News_News","initialized","appReducer","reducers","combineReducers","dialogsPage","app","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","DialogsContainer","lazy","App","initializeApp","getAuthAvatar","Header_HeaderContainer","Navbar_Navbar","path","render","Suspense","fallback","Profile_ProfileContainer","News_NewsContainer","Posts_PostsContainer","UsersContainer","Body_Login_Login","Store_Shop","Papers_Papers","GarbageFromTosterRu","AppContainer","promise","_data$data","all","AppDone","basename","process","es","ReactDOM","src_Components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister","color"],"mappings":"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","file":"static/js/main.5edf62fe.chunk.js","sourcesContent":["const SEND_MESSAGE = 'react_test/dialogs-reduser/SEND-MESSAGE';\r\n\r\nfunction sendMessage(state, action) {\r\n    const message = action.newMessageBody;\r\n    const messageToState = {id: state.messages.length + 1, message: message};\r\n    return {\r\n        ...state,\r\n        messages: [...state.messages, messageToState],\r\n    };\r\n}\r\n\r\nlet initialState = {\r\n    users: [\r\n        {id: 1, name: \"Dima\"},\r\n        {id: 2, name: \"Sasha\"},\r\n        {id: 3, name: \"Masha\"},\r\n        {id: 4, name: \"Dasha\"},\r\n        {id: 5, name: \"Sveta\"}\r\n    ],\r\n\r\n    messages: [\r\n        {id: 1, message: \"hi!\"},\r\n        {id: 2, message: \"How are you!\"},\r\n        {id: 3, message: \"I'm you\"},\r\n        {id: 4, message: \"y are me!\"}\r\n    ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            return sendMessage(state, action);\r\n\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\nexport const createSendNewMessageAction = (newMessageBody) => {\r\n    return {type: SEND_MESSAGE, newMessageBody}\r\n};\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBody\":\"Posts_postsBody__3FJ5W\"};","module.exports = __webpack_public_path__ + \"static/media/Spin-1s-200px.b5a19a3a.svg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, {useState} from \"react\";\r\nimport style from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nfunction Navbar() {\r\n\r\n    const [convolute, setConvolute] = useState(false);\r\n\r\n    const UsersBoxVisibility = () => {\r\n        setConvolute(!convolute)\r\n    };\r\n\r\n    const styleOfUsersBox = convolute ? style.usersPressed : style.usersNotPressed;\r\n\r\n    return (\r\n        <nav className={style.nav}>\r\n            <div className={style.item}>\r\n                <NavLink to={'/profile'} activeClassName={style.activeLink}>Profile</NavLink>\r\n            </div>\r\n\r\n            <div className={style.item}>\r\n                <NavLink to={'/dialogs'} activeClassName={style.activeLink}>Messages</NavLink>\r\n            </div>\r\n\r\n            <div className={style.item}>\r\n                <NavLink to={'/news'} activeClassName={style.activeLink}>News</NavLink>\r\n            </div>\r\n\r\n            <div className={style.item}>\r\n                <NavLink to={'/posts'} activeClassName={style.activeLink}>Posts</NavLink>\r\n            </div>\r\n\r\n            <div className={style.item}>\r\n                <NavLink to={'/users'} activeClassName={style.activeLink} onClick={UsersBoxVisibility}>Users</NavLink>\r\n                <ul className={styleOfUsersBox}>\r\n                    <li>\r\n                        <NavLink to={'/users/users_list'} activeClassName={style.activeLink}>Users List</NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to={'/users/my_friends'} activeClassName={style.activeLink}>Friends</NavLink>\r\n                    </li>\r\n                </ul>\r\n\r\n            </div>\r\n\r\n            <div className={style.item}>\r\n                <NavLink to={'/store'} activeClassName={style.activeLink}>Store</NavLink>\r\n            </div>\r\n\r\n            <div className={style.item}>\r\n                <NavLink to={'/papers'} activeClassName={style.activeLink}>Papers</NavLink>\r\n            </div>\r\n\r\n            <div className={style.item}>\r\n                <NavLink to={'/garbage'} activeClassName={style.activeLink}>Garbage</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from \"react\";\r\nimport style from './Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nfunction Header(props) {\r\n    return (\r\n        <header className={style.header}>\r\n            <img src='https://cityoflondonsinfonia.files.wordpress.com/2013/04/chanel-logo.jpg' alt={props.userId}/>\r\n            <div className={style.loginBlock}>\r\n                <span>\r\n                    <NavLink to={'/login'}>{props.avatar}</NavLink>\r\n                </span>\r\n                {props.isAuth ?\r\n                    <span>\r\n                        <button onClick={props.logOut}>Log Out</button>\r\n                    </span>\r\n                    : ''}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true, // для работы с cookies\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {'API-KEY': '8fa07788-cfec-4493-aab4-e35ba082ad82'}\r\n});\r\n\r\nexport const userApi = {\r\n\r\n    // получить список пользователей\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n\r\n    // добавить пользователя \"в друзья\"\r\n    follow(id) {\r\n        return instance.post(`follow/${id}`, {}).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n\r\n    // убрать пользователя из \"друзей\"\r\n    unfollow(id) {\r\n        return instance.delete(`follow/${id}`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n\r\n    // узнать  информацию о текущем пользователе / авторизоваться\r\n    authMe() {\r\n        return authApi.authMe();\r\n    }\r\n\r\n};\r\n\r\nexport const authApi = {\r\n    authMe() {\r\n        return instance.get('auth/me', {withCredentials: true}).then(response => {\r\n            return response.data\r\n        });\r\n    },\r\n    login(email, password, rememberMe) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    loginOut() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n};\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`).then(responce => {\r\n            return responce.data\r\n        })\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`).then(responce => {\r\n            return responce.data\r\n        })\r\n    },\r\n\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status});\r\n    },\r\n\r\n    savePhoto(file) {\r\n        let formData = new FormData();\r\n        formData.append('image', file);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n\r\n    saveProfile(profile){\r\n        return instance.put(`profile`, profile)\r\n    }\r\n};\r\n","import React from \"react\";\r\nimport {userApi, profileAPI, authApi} from \"../../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'react_test/auth-reduser/SET-USER-DATA';\r\nconst SET_USERS_AVATAR = 'react_test/auth-reduser/SET-USERS-AVATAR';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    avatar: 'Login',\r\n    isAuth: false,\r\n    isFetching: true\r\n};\r\n\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {...state, ...action.data}\r\n        }\r\n\r\n        case SET_USERS_AVATAR: {\r\n            return {...state, avatar: action.avatar}\r\n        }\r\n\r\n        default:\r\n            return state\r\n\r\n    }\r\n};\r\n\r\nconst setAuthUserData = (userId, email, login, isAuth) => ({type: SET_USER_DATA, data: {userId, email, login, isAuth}});\r\nconst setUsersAvatar = (avatar) => ({type: SET_USERS_AVATAR, avatar});\r\n\r\nexport const authorization = () => {\r\n    return (dispatch) => {\r\n        userApi.authMe().then(data => {\r\n            if (data.resultCode === 0) {\r\n\r\n                console.log(data);\r\n\r\n                dispatch(setAuthUserData(data.data.id, data.data.email, data.data.login, true));\r\n                profileAPI.getProfile(data.data.id).then(profileData => {\r\n                    if (profileData.photos.small) {\r\n                        dispatch(setUsersAvatar(<img src={profileData.photos.small} alt={\"small avatar\"}/>));\r\n                    } else {\r\n                        dispatch(setUsersAvatar(<img\r\n                            src={'https://cs16planet.ru/images/content/avatars/avatar648.jpg'} alt={\"small avatar\"}/>));\r\n                    }\r\n                });\r\n            } else {\r\n                console.log(\"Error of authentication\\nresultCode \" + data.resultCode);\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nexport const getAuthUserData = () => (dispatch) => {\r\n    return userApi.authMe()\r\n        .then(data => {\r\n            if (data.resultCode === 0) {\r\n                let {id, login, email} = data.data;\r\n                dispatch(setAuthUserData(id, email, login, true));\r\n            }\r\n        });\r\n};\r\n\r\nexport const getAuthAvatar = (id) => (dispatch) => {\r\n    profileAPI.getProfile(id).then(profileData => {\r\n        if (profileData.photos.small) {\r\n            dispatch(setUsersAvatar(<img src={profileData.photos.small} alt={\"small avatar\"}/>));\r\n        } else {\r\n            dispatch(setUsersAvatar(<img\r\n                src={'https://cs16planet.ru/images/content/avatars/avatar648.jpg'} alt={\"small avatar\"}/>));\r\n        }\r\n    });\r\n};\r\n\r\nexport const login = (email, password, rememberMe) => {\r\n    return (dispatch) => {\r\n        authApi.login(email, password, rememberMe).then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(authorization());\r\n            } else {\r\n                //обрабатываем не правильный пароль\r\n                //передаем название формочки, которую стопаем\r\n                //вторым параметром ошибку\r\n                // _error кинет общую ошибку, а не в какое то конкретное поле (login, email)\r\n                const message = response.length > 0 ? response.data.message : 'Some error';\r\n                dispatch(stopSubmit('login', {_error: message}));\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nexport const logOut = () => dispatch => {\r\n    console.log(\"click\");\r\n    authApi.loginOut().then(response => {\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false));\r\n            dispatch(setUsersAvatar(''));\r\n        }\r\n    });\r\n};\r\n\r\nexport default authReducer;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logOut} from \"../../redux/redusers/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n      //  this.props.authorization();\r\n    }\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    userId: state.auth.userId,\r\n    email: state.auth.email,\r\n    login: state.auth.login,\r\n    avatar: state.auth.avatar\r\n});\r\n\r\nexport default connect(mapStateToProps, {logOut})(HeaderContainer)","import React from 'react'\r\n\r\nfunction Post(props) {\r\n    return(\r\n        <div>\r\n            <span>{props.data.message}</span>\r\n            <br/>\r\n            <span>Likes: {props.data.likesCount}</span>\r\n            <br/>\r\n            <br/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\n\r\nexport const requiredField = value => {\r\n    if (value) {\r\n        return undefined\r\n    } else {\r\n        return 'Field is required'\r\n    }\r\n};\r\n\r\nexport const maxLengthCreator = maxLenght => value => {\r\n    if (value.length > maxLenght) return `Max length is ${maxLenght} symbols`;\r\n    else return undefined;\r\n};\r\n","import React from 'react';\r\nimport {Field} from \"redux-form\";\r\n\r\nimport style from './FormsControls.module.css';\r\n\r\n// REST оператор\r\n/*export const Textarea = ({input, meta, ...props}) => {\r\n\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    console.log(\"meta.touched \" + meta.touched);\r\n    console.log(\"meta.error \" + meta.error);\r\n    console.log(meta);\r\n\r\n    return (\r\n        <div className={style.formControl + \" \" + (hasError ? style.error : \"\")}>\r\n            <div>\r\n                <textarea {...input}{...props}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    console.log(\"meta.touched \" + meta.touched);\r\n    console.log(\"meta.error \" + meta.error);\r\n    console.log(meta);\r\n\r\n    return (\r\n        <div className={style.formControl + \" \" + (hasError ? style.error : \"\")}>\r\n            <div>\r\n                <input {...input}{...props}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n};*/\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={style.formControl + \" \" + (hasError ? style.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n};\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n};\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n    <div>\r\n        <Field placeholder={placeholder} name={name}\r\n               validate={validators}\r\n               component={component}\r\n               {...props}\r\n        /> {text}\r\n    </div>\r\n);\r\n","import React from 'react';\r\nimport style from './Posts.module.css';\r\nimport Post from './Post';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {requiredField, maxLengthCreator} from '../../../utils/validators/validator'\r\nimport {Textarea} from '../../../Components/common/FormsControls/FormsControls'\r\n\r\nconst maxLengthCreator10 = maxLengthCreator(10);\r\n\r\nfunction AddNewPostForm(props) {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div>\r\n            <Field name={'newPostText'}\r\n                   component={Textarea}\r\n                   placeholder={'Post massage'}\r\n                   validate={[requiredField, maxLengthCreator10]}\r\n            />\r\n        </div>\r\n\r\n        <div>\r\n            <button>Add post</button>\r\n        </div>\r\n    </form>;\r\n}\r\n\r\nconst AddNewPostFormRedux = reduxForm({form: 'AddNewPostForm'})(AddNewPostForm);\r\n\r\nfunction Posts(props) {\r\n\r\n    function onAddPost(values) {\r\n        props.addPost(values.newPostText);\r\n    }\r\n\r\n    return (\r\n        <div className={style.postsBody}>\r\n            <h3>Posts</h3>\r\n\r\n            <AddNewPostFormRedux onSubmit={onAddPost}/>\r\n\r\n            <hr/>\r\n            <div>\r\n                {props.posts.map(el => <Post data={el} key={el.id}/>)}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Posts;","const ADD_POST = 'react_test/posts-reduser/ADD-POST';\r\n\r\nfunction addPost(state, action) {\r\n    const newPost = {id: state.posts.length + 1, message: action.newPostText, likesCount: 0};\r\n    return {\r\n        ...state,\r\n        posts: [...state.posts, newPost], // тут push\r\n        newPostText: ''\r\n    }\r\n}\r\n\r\nfunction updateNewPostText(state, newText) {\r\n    return {\r\n        ...state,\r\n        newPostText: newText\r\n    };\r\n}\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: \"Fuck you\", likesCount: 99},\r\n        {id: 2, message: \"Suck the dick\", likesCount: 5},\r\n        {id: 3, message: \"Show me your tits\", likesCount: 4},\r\n        {id: 4, message: \"Jololo\", likesCount: 34},\r\n        {id: 5, message: \"fap fpa\", likesCount: 87},\r\n    ],\r\n};\r\n\r\nconst postsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            return addPost(state, action);\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const createAddPostAction = (newPostText) => {\r\n    return {type: ADD_POST, newPostText}\r\n};\r\n\r\nexport default postsReducer;","import React from 'react';\r\nimport Posts from './Posts'\r\nimport {createAddPostAction} from \"../../../redux/redusers/posts-reducer\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.postsPage.posts,\r\n        newPostText: state.postsPage.newPostText\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostText) => {\r\n            dispatch(createAddPostAction(newPostText));\r\n        }\r\n    }\r\n};\r\n\r\nconst PostsContainer = connect(mapStateToProps, mapDispatchToProps)(Posts);\r\nexport default PostsContainer;","import React from 'react';\r\nimport styles from './Users.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst User = ({user, followingInProgress, unfollow, follow, }) => {\r\n    return <div key={user.id} className={styles.card}>\r\n                        <span>\r\n                            <div>\r\n                                <NavLink to={'/profile/' + user.id}>\r\n                                <img\r\n                                    src={user.photos.small != null ? user.photos.small : 'https://cs16planet.ru/images/content/avatars/avatar648.jpg'}\r\n                                    className={styles.usersPhoto}/>\r\n                                </NavLink>\r\n                            </div>\r\n                            <div>\r\n                                {user.followed ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                                      onClick={() => {\r\n                                                          unfollow(user.id)\r\n                                                      }}>Unfollow</button> :\r\n\r\n                                    <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                            onClick={() => {\r\n                                                follow(user.id)\r\n                                            }}>Follow</button>}\r\n                            </div>\r\n                        </span>\r\n        <span>\r\n                            <span>\r\n                                <div>{user.name}</div>\r\n                                <div>{user.status}</div>\r\n                                <div>{user.id}</div>\r\n                            </span>\r\n                        </span>\r\n    </div>\r\n};\r\n\r\nexport default User;","import React, {useState} from 'react';\r\nimport style from './Pagination.module.css';\r\n\r\nconst Pagination = ({totalItemsCount, pageSize, onPageChanged, currentPage, portionSize, ...props}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    const portionCount = Math.ceil(pagesCount / portionSize);\r\n    const [portionNumber, setPortionNumber] = useState(1);\r\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    const rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return <div className={style.pagination}>\r\n        {portionNumber > 1 &&\r\n        <button onClick={() => setPortionNumber(portionNumber - 1)}>\r\n            prev\r\n        </button>}\r\n\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map(p => {\r\n                return <span onClick={(e) => {\r\n                    onPageChanged(p)\r\n                }} className={currentPage === p ? style.selectedPage : ''}\r\n                             key={p}>{p}</span>\r\n            })}\r\n\r\n        {portionCount > portionNumber &&\r\n        <button onClick={() => setPortionNumber(portionNumber + 1)}>\r\n            next\r\n        </button>}\r\n\r\n    </div>\r\n};\r\n\r\nexport default Pagination;","import React from 'react';\r\nimport User from './User';\r\nimport Pagination from '../../common/Pagination/Pagination'\r\n\r\nconst Users = (props) => {\r\n    return <div>\r\n        <Pagination totalItemsCount={props.totalUsersCount}\r\n                    pageSize={props.pageSize}\r\n                    onPageChanged={props.onPageChanged}\r\n                    currentPage={props.currentPage}\r\n                    portionSize={props.paginatorPortionSize}\r\n        />\r\n\r\n        <div>\r\n            {\r\n                props.users.map(user => <User key={user.id}\r\n                                              user={user}\r\n                                              followingInProgress={props.followingInProgress}\r\n                                              unfollow={props.unfollow}\r\n                                              follow={props.follow}\r\n                />)\r\n            }\r\n        </div>\r\n    </div>\r\n};\r\n\r\nexport default Users;\r\n","import React from 'react';\r\nimport preLoader from '../../../assets/images/Spin-1s-200px.svg';\r\n\r\nconst Preloader = (props) => {\r\n    return <div className={\"preloader\"}>\r\n        <img src={preLoader}/>\r\n    </div>\r\n};\r\n\r\nexport default Preloader\r\n","export const updateObjectInArray = (entity, entityId, propName, newProp) => {\r\n    return entity.map(u => {\r\n        if (u[propName] === entityId) {\r\n            return {...u, ...newProp}\r\n        }\r\n        return u\r\n    })\r\n};","//AC - action creator\r\nimport {userApi} from \"../../api/api\";\r\nimport {updateObjectInArray} from \"../../utils/object-helpers\";\r\n\r\nconst FOLLOW = \"react_test/users-reduser/FOLLOW\";\r\nconst UNFOLLOW = \"react_test/users-reduser/UNFOLLOW\";\r\nconst SET_USERS = \"react_test/users-reduser/SET-USERS\";\r\nconst SET_CURRENT_PAGE = \"react_test/users-reduser/SET-CURRENT-PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"react_test/users-reduser/SET-TOTAL-USERS-COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"react_test/users-reduser/TOGGLE-IS-FETCHING\";\r\nconst TOGGLE_FOLLOWING_IN_PROGRESS = \"react_test/users-reduser/TOGGLE-FOLLOWING-IN-PROGRESS\";\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 20,\r\n    paginatorPortionSize: 10,\r\n    totalUsersCount: 21,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n};\r\n\r\nfunction usersReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return{\r\n                    ...state,\r\n                    users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n                };\r\n\r\n        case UNFOLLOW:\r\n            return (\r\n                {\r\n                    ...state,\r\n                    users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n                }\r\n            );\r\n\r\n        case SET_USERS: {\r\n            // return {...state, users: [...state.users, ...action.users]} // те, которые есть склеиваются с пришлыми\r\n            return {...state, users: action.users} // пользователи перезатираются\r\n        }\r\n\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.totalUsersCount}\r\n        }\r\n\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n\r\n        case TOGGLE_FOLLOWING_IN_PROGRESS: {\r\n            return {\r\n                ...state, followingInProgress: action.inProgress ? [...state.followingInProgress, action.userId] :\r\n                    state.followingInProgress.filter(id => id != action.userId)\r\n            };\r\n        }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst followAccept = (userId) => ({type: FOLLOW, userId});\r\nconst unfollowAccept = (userId) => ({type: UNFOLLOW, userId});\r\nconst setUsers = (users) => ({type: SET_USERS, users});\r\nconst setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nconst setUsersTotalCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount});\r\nconst setToggleFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nconst toggleFollowingProgress = (inProgress, userId) => ({\r\n    type: TOGGLE_FOLLOWING_IN_PROGRESS,\r\n    inProgress,\r\n    userId\r\n});\r\n\r\n// через thunk\r\nexport const getUsers = (currentPage, pageSize, firstLoad = true) => {\r\n    return (dispatch) => {\r\n        dispatch(setToggleFetching(true));\r\n        userApi.getUsers(currentPage, pageSize).then(data => {\r\n\r\n            if (!firstLoad) {\r\n                dispatch(setCurrentPage(currentPage)); // перезапись текущей страницы\r\n            }\r\n\r\n            dispatch(setToggleFetching(false));\r\n            dispatch(setUsers(data.items));\r\n\r\n            // заблокирова кнопку follow/unfollow для текущего пользователя (нельзя былло добавить в вдрузья самого себя)\r\n            // срабатывает только при первой загрузке componentDidMount, при onPageChanged  работать не должно, поэтому я ввел\r\n            // третий параметр\r\n\r\n            if (firstLoad) {\r\n                dispatch(setUsersTotalCount(data.totalCount)); // записывать общее число страниц нужно только при componentDidMount\r\n                userApi.authMe().then(data => {\r\n                    dispatch(toggleFollowingProgress(true, data.data.id));\r\n                });\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n\r\n    const responseData = await apiMethod(userId);\r\n    if (responseData.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\n\r\nexport const follow = (id) => {\r\n    return async (dispatch) => {\r\n        await followUnfollowFlow(dispatch, id, userApi.follow.bind(userApi), followAccept);\r\n    }\r\n};\r\n\r\nexport const unfollow = (id) => {\r\n    return async (dispatch) => {\r\n        await followUnfollowFlow(dispatch, id, userApi.unfollow.bind(userApi), unfollowAccept);\r\n    }\r\n};\r\n\r\nexport default usersReducer;\r\n","// селектор - это функция, которая принимает state и возвращает то что нужно бизнесу\r\n\r\nimport {createSelector} from \"reselect\";\r\n\r\nexport const getUsersSelector = (state) => {\r\n    return state.usersPage.users\r\n};\r\n\r\n\r\n// придумаем какой нибудь сложный селлектор\r\n\r\nexport const getUsersSuperSelector = createSelector(getUsersSelector, (users) =>{\r\n    // в createSelector можно передать кучу приметивных селекторов\r\n    // он будет срабатывать, только года что то меняется\r\n    // Здесь будет сложная логика\r\n\r\n    return users.filter(u=> true);\r\n});\r\n\r\n\r\nexport const getPageSizeSelector = (state) => {\r\n    return state.usersPage.pageSize\r\n};\r\n\r\nexport const totalUsersCountSelector = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n};\r\n\r\nexport const currentPageSelector = (state) => {\r\n    return state.usersPage.currentPage\r\n};\r\n\r\nexport const paginatorPortionSizeSelector = (state) => {\r\n    return state.usersPage.paginatorPortionSize\r\n};\r\n\r\nexport const isFetchingSelector = (state) => {\r\n    return state.usersPage.isFetching\r\n};\r\n\r\nexport const followingInProgressSelector = (state) => {\r\n    return state.usersPage.followingInProgress\r\n};\r\n\r\nexport const myIdSelector = (state) => {\r\n    return state.auth.userId\r\n};\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport Users from './Users';\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport {follow, unfollow, getUsers} from \"../../../redux/redusers/users-reducer\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    currentPageSelector,\r\n    followingInProgressSelector,\r\n    getPageSizeSelector,\r\n    getUsersSelector, isFetchingSelector,\r\n    myIdSelector,\r\n    totalUsersCountSelector, paginatorPortionSizeSelector\r\n} from \"../../../redux/selectors/users-selectors\";\r\n\r\nclass UsersComponent extends React.Component {\r\n\r\n    componentDidMount = () => {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    };\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize, false);\r\n    };\r\n\r\n    render() {\r\n        /* тк можно возвращать только одну компоненту этот список используется для заглушки, если не хочешь возвращать div*/\r\n        return <>\r\n            {this.props.isFetching === true ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   paginatorPortionSize={this.props.paginatorPortionSize}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsersSelector(state),\r\n        pageSize: getPageSizeSelector(state),\r\n        paginatorPortionSize: paginatorPortionSizeSelector(state),\r\n        totalUsersCount: totalUsersCountSelector(state),\r\n        currentPage: currentPageSelector(state),\r\n        isFetching: isFetchingSelector(state),\r\n        followingInProgress: followingInProgressSelector(state),\r\n        myId: myIdSelector(state)\r\n    }\r\n};\r\n\r\n/*\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProgress: state.usersPage.followingInProgress,\r\n        myId: state.auth.userId\r\n    }\r\n};\r\n\r\nниже укороченный синтаксис\r\n*/\r\n\r\nexport default compose(connect(mapStateToProps, {follow, unfollow, getUsers}))(UsersComponent)","import {profileAPI} from \"../../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USERS_PROFILE = 'react_test/profile-reduser/SET-USERS-PROFILE';\r\nconst TOGGLE_IS_FETCHING = 'react_test/profile-reduser/TOGGLE-IS-FETCHING';\r\nconst SET_STATUS = 'react_test/profile-reduser/SET-STATUS';\r\nconst SAVE_PHOTO_SUCCESS = 'react_test/profile-reduser/SAVE_PHOTO_SUCCESS';\r\n\r\nlet initalState = {\r\n    profile: null,\r\n    isFetching: true,\r\n    status: ''\r\n};\r\n\r\nfunction profileReducer(state = initalState, action) {\r\n    switch (action.type) {\r\n        case SET_USERS_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n\r\n        case SET_STATUS: {\r\n            return {...state, status: action.status}\r\n        }\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return {...state, profile: {...state.profile, photos: action.photos}}\r\n        }\r\n        default: {\r\n            return state\r\n        }\r\n\r\n    }\r\n}\r\n\r\nconst setProfileInfo = (profile) => ({type: SET_USERS_PROFILE, profile});\r\nconst setToggleFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nconst setStatus = (status) => ({type: SET_STATUS, status});\r\nconst savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos});\r\n\r\nexport const getProfile = (userId) => {\r\n    return (dispatch) => {\r\n        dispatch(setToggleFetching(true));\r\n        profileAPI.getProfile(userId).then(data => {\r\n            dispatch(setToggleFetching(false));\r\n            dispatch(setProfileInfo(data));\r\n        });\r\n    }\r\n};\r\n\r\nexport const getStatus = (userId) => (dispach) => {\r\n    profileAPI.getStatus(userId).then(status => dispach(setStatus(status)));\r\n};\r\n\r\nexport const updateStatus = (status) => (dispach) => {\r\n    profileAPI.updateStatus(status).then(responce => {\r\n        if (responce.data.resultCode === 0) {\r\n            dispach(setStatus(status));\r\n        }\r\n    });\r\n};\r\n\r\n\r\n// 96 урок, 22:22 описывается структура работы\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n};\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    const response = await profileAPI.saveProfile(profile);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getProfile(userId));\r\n    } else {\r\n        dispatch(stopSubmit('editProfile', {_error: response.data.messages[0]}));\r\n        return Promise.reject(response.data.messages[0]);\r\n    }\r\n};\r\n\r\n\r\nexport default profileReducer;","import React, {useState, useEffect} from 'react';\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\n\r\nconst ProfileStatusWithHooks = props => {\r\n\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [status, setStatus] = useState(props.status);\r\n\r\n    // механизм подобный методам ЖЦ\r\n    // отслеживает какой либо элемент и отрисовывает компоненту при его изменении (синхронизация)\r\n    // в данном случае [props.status]\r\n    useEffect(() => {\r\n            setStatus(props.status);\r\n    }, [props.status]);\r\n    \r\n    \r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    };\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    };\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    };\r\n\r\n    const onEnterPress = (e) => {\r\n        console.log(`key: ${e.key}`);\r\n        if (e.key === 'Enter') {\r\n            deactivateEditMode();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={activateEditMode}>Статус: {props.status}</span>\r\n            </div>\r\n            }\r\n\r\n            {editMode &&\r\n            <div>\r\n                <input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode} value={status}\r\n                       onKeyPress={onEnterPress}/>\r\n            </div>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ProfileStatusWithHooks\r\n\r\n\r\n// this.activateEditMode.bind(this)","import React from 'react';\r\n\r\nconst Contact = ({contactTitle, contactValue}) => {\r\n    return <div>\r\n        <b>{contactTitle}</b>: {contactValue}\r\n    </div>\r\n};\r\nexport default Contact;","import React from 'react';\r\nimport Contact from \"./Contacts\";\r\nimport {createField, Input, Textarea} from \"../../common/FormsControls/FormsControls\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport style from \"../Login/Login.module.css\";\r\n\r\n\r\nconst ProfileDataForm = ({handleSubmit, profile, error}) => {\r\n    const lookingForAJobCheckboxParams = profile.lookingForAJob ? {\r\n        type: 'checkbox',\r\n        checked: 'checked'\r\n    } : {type: 'checkbox'};\r\n\r\n    // в форме нужно просто наличие button, не нужен обработчик для нее. Он приходит из родителя onSubmit в Profile\r\n    return <form onSubmit={handleSubmit}>\r\n        <div>\r\n            <button>save</button>\r\n\r\n            {error &&\r\n            <div className={style.errorMessage}>\r\n                {error}\r\n            </div>\r\n            }\r\n\r\n            <div><h5>id: {profile.userId}</h5></div>\r\n            <div>\r\n                <b>Full name</b>: {createField('Full name', 'fullName', [], Input)}\r\n            </div>\r\n            <div><b>Looking for a job</b>: {createField('', 'lookingForAJob', [], Input, lookingForAJobCheckboxParams)}\r\n            </div>\r\n\r\n            <div><b>My professional\r\n                skills</b>: {createField('My professional skills', 'lookingForAJobDescription', [], Textarea)}</div>\r\n\r\n            <div>\r\n                <b>About me</b>: {createField('About me', 'aboutMe', [], Textarea)}\r\n            </div>\r\n            <br/>\r\n            <hr/>\r\n            <div>\r\n                <b>Contacts</b>:\r\n                {Object.keys(profile.contacts).map((key) => {\r\n                    return <div key={key}>\r\n                        <b>{key}: {createField(key, 'contacts.' + key, [], Input)}</b>\r\n                    </div>\r\n                })}\r\n            </div>\r\n        </div>\r\n    </form>\r\n};\r\n\r\nconst ProfileDataReduxForm = reduxForm({\r\n    form: 'editProfile' // уникальное строговое имя (для state)\r\n})(ProfileDataForm);\r\n\r\nexport default ProfileDataReduxForm;","import React, {useState, useEffect} from 'react';\r\nimport style from './Profile.module.css'\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\nimport Contact from \"./Contacts\";\r\n\r\nfunction Profile({profile, status, updateStatus, isOwner, savePhoto, saveProfile}) {\r\n\r\n    const [editMode, setEditMode] = useState(false);\r\n\r\n    const onMainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            savePhoto(e.target.files[0])\r\n        }\r\n    };\r\n\r\n    // попробуй сделать значек загрузки при изменении данных\r\n    const onSubmit = (formData) => {\r\n        saveProfile(formData).then(\r\n            () => setEditMode(false)\r\n        );\r\n    };\r\n\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    } else {\r\n        return (\r\n            <div className={style.profileBody}>\r\n                <div className={style.row}>\r\n\r\n                    <div className={style.pictureAndSocial}>\r\n                        <div>\r\n                            <img\r\n                                src={profile.photos.large || 'https://cs16planet.ru/images/content/avatars/avatar648.jpg'}\r\n                                alt=\"large photo\"/>\r\n                            {isOwner && <input type=\"file\" onChange={onMainPhotoSelected}/>}\r\n                        </div>\r\n                        <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n                    </div>\r\n                    <div className={style.info}>\r\n                        {editMode ? <ProfileDataForm initialValues={profile} profile={profile} onSubmit={onSubmit}/>\r\n                            : <ProfileData\r\n                                goToEditMode={\r\n                                    () => {\r\n                                        setEditMode(true);\r\n                                    }\r\n                                }\r\n                                profile={profile}\r\n                                isOwner={isOwner}\r\n                            />}\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst ProfileData = ({profile, isOwner, goToEditMode}) => {\r\n    return <div>\r\n        {isOwner && <div>\r\n            <button onClick={goToEditMode}>Edit</button>\r\n        </div>}\r\n        <div><h5>id: {profile.userId}</h5></div>\r\n        <div><b>Full name</b>: {profile.fullName}</div>\r\n        <div><b>Looking for a job</b>: {profile.lookingForAJob ? 'yes' : 'no'}</div>\r\n        {\r\n            profile.lookingForAJob &&\r\n            <div><b>My professional skills</b>: {profile.lookingForAJobDescription}</div>\r\n        }\r\n\r\n        <div>\r\n            <b>About me</b>: {profile.aboutMe}\r\n        </div>\r\n        <br/>\r\n        <hr/>\r\n        <div>\r\n            <b>Contacts</b>:\r\n            {Object.keys(profile.contacts).map((key) => {\r\n                return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]}/>\r\n            })}\r\n        </div>\r\n    </div>\r\n};\r\n\r\nexport default Profile;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {getProfile, getStatus, updateStatus, savePhoto, saveProfile} from '../../../redux/redusers/profile-reducer'\r\nimport Profile from \"./ProfileVer2\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n\r\n    refreshProfile() {\r\n        const userId = (!this.props.match.params.userId) ? this.props.authorizedUserId : this.props.match.params.userId; // тут чекается адресная строка\r\n        if (!userId) {\r\n            this.props.history.push('/login');\r\n        }\r\n        this.props.getProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(\"Profile componentDidMount\");\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            console.log(\"Profile componentDidUpdate\");\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.props.isFetching === true ? <Preloader/> : null}\r\n                <Profile {...this.props}\r\n                         isOwner={!this.props.match.params.userId} // владелец или нет true/false\r\n                />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\n/*\r\nconst AuthRedirectComponent = withAuthRedirect(ProfileContainer);\r\n\r\nconst withUrlDataContainerComponent = withRouter(AuthRedirectComponent); // Это как третий контейнер (для аякса, для редакса, для взаимодействия с урлом)\r\n*/\r\nexport default compose(connect(mapStateToProps, {getProfile, getStatus, updateStatus, savePhoto, saveProfile}),\r\n    withRouter\r\n)(ProfileContainer)\r\n\r\n","import React from 'react';\r\nimport style from './Product.module.css';\r\n\r\nfunction Product(props) {\r\n\r\n    const showKey = () => {\r\n        console.log(props.id);\r\n    };\r\n\r\n    return (\r\n        <div className={style.goods_item}>\r\n            <div className={style.name}>\r\n                <h3>{props.name}</h3>\r\n            </div>\r\n\r\n            <div className={style.picture}>\r\n                <img src={props.img}/>\r\n            </div>\r\n\r\n            <div className={style.priceAndAdd}>\r\n                <div className={style.price}>\r\n                    <h5>{props.price}$</h5>\r\n                </div>\r\n\r\n                <div className={style.add}>\r\n                    <button onClick={() => showKey()}>Add</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Product;","import React from 'react';\r\nimport Product from './Product';\r\n\r\nconst shop = [\r\n    {\"id\": 10001, \"name\": \"vanish\", \"image\": \"1014474865.jpg\", \"price\": 50},\r\n    {\"id\": 10002, \"name\": \"finish lemon\", \"image\": \"1021028103.jpg\", \"price\": 55},\r\n    {\"id\": 10003, \"name\": \"QNT delicious whey\", \"image\": \"1022398092.jpg\", \"price\": 49},\r\n    {\"id\": 10004, \"name\": \"Nitro TECH\", \"image\": \"1023887020.jpg\", \"price\": 55},\r\n    {\"id\": 10005, \"name\": \"Finish powerball\", \"image\": \"6000004255.jpg\", \"price\": 87}\r\n];\r\n\r\nfunction Shop(props) {\r\n    return (<div>\r\n        <h1>Store</h1>\r\n        {shop.map(item => <Product key={item.id} id={item.id} name={item.name} img={item.image} price={item.price}/>)}\r\n    </div>)\r\n}\r\n\r\nexport default Shop;","import React, {useState} from 'react';\r\nimport style from \"./Papers.module.css\";\r\n\r\nfunction Paper(props) {\r\n\r\n    const [convolute, setConvolute] = useState(props.status);\r\n\r\n    const changeSizeOfPaper = () => {\r\n        setConvolute(!convolute)\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                {\r\n                    !convolute &&\r\n                    <div className={style.full_dress} onClick={changeSizeOfPaper}>\r\n                        <h3>Развернутый</h3>\r\n                    </div>\r\n                }\r\n\r\n                {\r\n                    convolute &&\r\n                    <div className={style.convolute} onClick={changeSizeOfPaper}>\r\n                        <h3>Свернутый</h3>\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paper;\r\n\r\n","import React, {useState} from 'react';\r\nimport style from './Papers.module.css';\r\nimport Paper from './Paper';\r\n\r\nfunction Papers(props) {\r\n    let papers = [];\r\n\r\n    for (let i = 0; i < 5; i++) {\r\n        papers.push(<Paper status={(i !== 0)}/>) //(i === 0) ? false : true\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {papers}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Papers;","import React, {useState, useEffect} from 'react';\r\nimport style from './Garbage.module.css';\r\n\r\nconst ChildComponent = (props) => {\r\n\r\n    console.log(\"ChildComponent props\");\r\n    console.log(props);\r\n\r\n    return (\r\n        <div\r\n            className={`${style.childComponent} ${props.isActive ? `${style.active}` : ''}`}\r\n            onClick={props.onClick}\r\n            data-id={props.id}\r\n            data-name={props.name}\r\n        >\r\n            <h3>{props.name}</h3>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nconst ParentComponent = ({items}) => {\r\n    items = [\r\n        {id: 0, name: 'один'},\r\n        {id: 1, name: 'два'},\r\n        {id: 2, name: 'три'}\r\n    ];\r\n\r\n    const [active, setActive] = useState(null);\r\n\r\n    const onClick = e => {\r\n        // узнать кто именно из детей вызвал вызвал - e.target\r\n        const receiveId = Number(e.target.dataset.id);\r\n        console.log(\"came \" + receiveId + \"; \" + \"active \" + active);\r\n        if (receiveId === active) {\r\n            console.log(\"Set null\");\r\n            setActive(null);\r\n        } else {\r\n            console.log(\"Set \" + receiveId);\r\n            setActive(receiveId);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {items.map(n =>\r\n                <ChildComponent\r\n                    key={n.id}\r\n                    onClick={onClick}\r\n                    isActive={(n.id === active) ? true : false}\r\n                    temp={active}\r\n                    {...n} // копирует все содержимое items\r\n                />\r\n            )}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ParentComponent;","import React from 'react';\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport style from './Login.module.css';\r\nimport {Input} from \"../../common/FormsControls/FormsControls\";\r\nimport {requiredField} from \"../../../utils/validators/validator\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../../redux/redusers/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div className={style.dwsInput}>\r\n                <Field placeholder={\"Login/Email\"} name={'email'} component={Input} type={'email'}\r\n                       validate={[requiredField]}/>\r\n            </div>\r\n            <div className={style.dwsInput}>\r\n                <Field placeholder={\"Password\"} name={'password'} component={Input} type={'password'}\r\n                       validate={[requiredField]}/>\r\n            </div>\r\n            <div>\r\n                <Field type=\"checkbox\" name={'remember me'} component={Input}/> remember me\r\n            </div>\r\n            {console.log(\"props.error \" + error)}\r\n            {error &&\r\n                <div className={style.errorMessage}>\r\n                    {error}\r\n                </div>\r\n            }\r\n            <div>\r\n                <button className={style.dwsSubmit}>Enter</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\n\r\nconst ReduxLoginForm = reduxForm({\r\n    form: 'login' // уникальное строговое имя (для state)\r\n})(LoginForm);\r\n\r\n\r\nconst Login = ({login, isAuth}) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        console.log(formData);\r\n        login(formData.email, formData.password, formData.rememberMe);\r\n    };\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <div className={style.container}>\r\n            <h1>LOGIN</h1>\r\n            <ReduxLoginForm onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default connect(mapStateToProps, {login})(Login)","import React, {useState} from 'react'\r\nimport style from './News.module.css'\r\n\r\nfunction News() {\r\n    //это можно сделать хуком и менять состояние цвета, для такой херни и нужны хуки\r\n    // классы тоже можно менять через состояние, наверное)\r\n\r\n    const [active, setActive] = useState(false);\r\n    const [classes, setClasses] = useState(`${style.box} ${style.disconnect}`);\r\n\r\n    const click = () => {\r\n        if (active === false) {\r\n            setClasses(classes.replace(style.disconnect, style.active));\r\n            setActive(true);\r\n        } else {\r\n            setClasses(classes.replace(style.active, style.disconnect));\r\n            setActive(false);\r\n        }\r\n        console.log(classes);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className={classes}>News\r\n                <div>\r\n                    <h5>{classes}</h5>\r\n                    <button onClick={() => click()}>test</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default News","import React from \"react\";\r\nimport News from \"./News\"\r\nimport {compose} from \"redux\";\r\n\r\nclass NewsContainer extends React.Component {\r\n    componentDidMount() {\r\n    }\r\n\r\n    render() {\r\n        return <News {...this.props}/>\r\n    }\r\n}\r\n\r\nexport default compose ()(NewsContainer)","import React from \"react\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = '_react_test/app-reduser/INITIALIZED-SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n\r\n    //dispatch(somethingelse());\r\n    //dispatch(somethingelse());\r\n\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess());\r\n        });\r\n};\r\n\r\nexport default appReducer\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport postsReducer from \"./redusers/posts-reducer\";\r\nimport dialogsReducer from \"./redusers/dialogs-reducer\";\r\nimport usersReducer from \"./redusers/users-reducer\";\r\nimport profileReducer from \"./redusers/profile-reducer\";\r\nimport authReducer from \"./redusers/auth-reducer\";\r\nimport appReducer from \"./redusers/app-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form'\r\n\r\nlet reducers = combineReducers(\r\n    {\r\n        postsPage: postsReducer, //каждому свойтву из store соответствуеь свой редьюсер\r\n        dialogsPage: dialogsReducer,\r\n        usersPage: usersReducer,\r\n        profilePage: profileReducer,\r\n        auth: authReducer,\r\n        app: appReducer,\r\n        form: formReducer\r\n    }\r\n);\r\n\r\n// Добавил composeEnhancers для работы приложения Redux dev tools\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nlet store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware))); // после этого создастся state с свойствами postPage и dialogsPage...\r\n// все данные из redux идут через Контекст\r\n\r\n// потом убрать. Это для доступа к стору из консоли\r\nwindow.__store__ = store;\r\n\r\nexport default store","import React, {Component} from 'react';\nimport './App.css';\nimport Navbar from '../Components/Navbar/Navbar';\nimport {BrowserRouter, Route, withRouter} from \"react-router-dom\";\nimport HeaderContainer from '../Components/Header/HeaderContainer';\nimport PostsContainer from \"./Body/Posts/PostsContainer\";\nimport UsersContainer from \"./Body/Users/UsersContainer\";\nimport ProfileContainer from \"./Body/Profile/ProfileContainer\";\nimport Store from \"./Body/Store/Shop\";\nimport Papers from \"./Body/Papers/Papers\";\nimport Garbage from \"./Body/Garbage/GarbageFromTosterRu\";\nimport Login from \"./Body/Login/Login\";\nimport NewsContainer from \"./Body/News/NewsContainer\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"../redux/redusers/app-reducer\";\nimport Preloader from \"./common/Preloader/Preloader\";\nimport {getAuthAvatar} from \"../redux/redusers/auth-reducer\";\nimport store from \"../redux/redux-store\";\nimport {withLazySuspense} from \"../hoc/withLazySuspence\";\n\n// lazy импорт, импортируется только когда надо\nconst DialogsContainer = React.lazy(() => import('./Body/Dialogs/DialogsContainer'));\n\n// <Route path={'/profile/:userId?'} - вопросительный знак делает этот параметр функциональным\n// Конвертировать в классовую компоненту ctrl + alt + shift + T\n\n//28.09.2019 lesson 94 - сделал из DialogsContainer lazy\n\nclass App extends Component {\n\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (prevProps.userId !== this.props.userId) {\n            console.log(this.props.userId);\n            this.props.getAuthAvatar(this.props.userId);\n        }\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div className=\"app-wrapper\">\n                <HeaderContainer/>\n\n                <div className=\"navbar\">\n                    <Navbar/>\n                </div>\n\n                <div className={'content'}>\n                    <Route path={'/dialogs'}\n                        // ленивая загрузка реализована через HOC. Но можно делать и явно. В документации все подробно\n                        // описано. Поймет и дебил. Так же можно обрабатывать и отлавливать ошибки.\n                           render={withLazySuspense(DialogsContainer)}/>\n\n                    <Route path={'/profile/:userId?'}\n                           render={() => (<ProfileContainer/>)}/>\n\n                    <Route path={'/news'}\n                           render={() => (<NewsContainer/>)}/>\n\n                    <Route path={'/posts'}\n                           render={() => (<PostsContainer/>)}/>\n\n                    <Route path={'/users'}\n                           render={() => (<UsersContainer/>)}/>\n\n                    <Route path={'/login'}\n                           render={() => (<Login/>)}/>\n\n                    <Route path={'/store'}\n                           render={() => (<Store/>)}/>\n\n                    <Route path={'/papers'}\n                           render={() => (<Papers/>)}/>\n\n                    <Route path={'/garbage'}\n                           render={() => (<Garbage/>)}/>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized,\n    userId: state.auth.userId\n});\n\nconst AppContainer = compose(withRouter,\n    (connect(mapStateToProps, {initializeApp, getAuthAvatar})))(App);\n\nconst AppDone = (props) => {\n    return (<BrowserRouter basename={process.env.PUBLIC_URL}>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </BrowserRouter>)\n};\n\nexport default AppDone;","import React from 'react';\r\n\r\nexport const withLazySuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    };\r\n};","import React from 'react';\nimport * as serviceWorker from './serviceWorker';\nimport ReactDOM from \"react-dom\";\nimport AppDone from \"./Components/App\";\n\nReactDOM.render(\n    <AppDone/>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Login_container__1B5YB\",\"dwsSubmit\":\"Login_dwsSubmit__1M4XA\",\"dwsInput\":\"Login_dwsInput__2YMAk\",\"errorMessage\":\"Login_errorMessage__CtvHG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"goods_item\":\"Product_goods_item__1VZt0\",\"name\":\"Product_name__KcLQW\",\"picture\":\"Product_picture__eaM1R\",\"priceAndAdd\":\"Product_priceAndAdd__1tNkt\",\"price\":\"Product_price__2_i3Y\",\"add\":\"Product_add__3Wwab\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"News_box__12md6\",\"active\":\"News_active__6-l6Z\",\"disconnect\":\"News_disconnect__3OEYa\",\"color\":\"News_color__ACZGQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileBody\":\"Profile_profileBody__2wZAC\",\"row\":\"Profile_row__1ojMc\",\"pictureAndSocial\":\"Profile_pictureAndSocial__3l99r\",\"info\":\"Profile_info__71Nkv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"convolute\":\"Papers_convolute__1l6Xs\",\"full_dress\":\"Papers_full_dress__nC4aF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__I8edd\",\"item\":\"Navbar_item__5rG_L\",\"activeLink\":\"Navbar_activeLink__2q0DS\",\"usersPressed\":\"Navbar_usersPressed__2_2Oq\",\"usersNotPressed\":\"Navbar_usersNotPressed__18_7N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2AByi\",\"loginBlock\":\"Header_loginBlock__1kPFM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__lYFFh\",\"error\":\"FormsControls_error__RGOYY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"Users_usersPhoto__2U3Zh\",\"card\":\"Users_card__38db5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__2qvOn\",\"selectedPage\":\"Pagination_selectedPage__3S3wI\",\"active\":\"Pagination_active__1T1GS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"childComponent\":\"Garbage_childComponent__10FcR\",\"active\":\"Garbage_active__3ZgSp\"};"],"sourceRoot":""}