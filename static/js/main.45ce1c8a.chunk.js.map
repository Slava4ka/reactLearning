{"version":3,"sources":["redux/redusers/dialogs-reducer.js","Components/Body/Posts/Posts.module.css","assets/images/Spin-1s-200px.svg","serviceWorker.js","Components/Navbar/Navbar.jsx","Components/Header/Header.jsx","api/api.js","redux/redusers/auth-reducer.js","Components/Header/HeaderContainer.js","Components/Body/Posts/Post.jsx","utils/validators/validator.js","Components/common/FormsControls/FormsControls.jsx","Components/Body/Posts/Posts.jsx","redux/redusers/posts-reducer.js","Components/Body/Posts/PostsContainer.jsx","Components/Body/Users/User.jsx","Components/common/Pagination/Pagination.jsx","Components/Body/Users/Users.jsx","Components/common/Preloader/Preloader.js","utils/object-helpers.js","redux/redusers/users-reducer.js","redux/selectors/users-selectors.js","Components/Body/Users/UsersContainer.js","redux/redusers/profile-reducer.js","Components/Body/Profile/ProfileStatusWithHooks.jsx","Components/Body/Profile/ProfileStatu.jsx","Components/Body/Profile/Profile.jsx","Components/Body/Profile/ProfileContainer.js","Components/Body/Store/Product.jsx","Components/Body/Store/Shop.jsx","Components/Body/Papers/Paper.js","Components/Body/Papers/Papers.jsx","Components/Body/Garbage/GarbageFromTosterRu.jsx","Components/Body/Login/Login.jsx","Components/Body/News/News.jsx","Components/Body/News/NewsContainer.js","redux/redusers/app-reducer.js","redux/redux-store.js","Components/App.js","hoc/withLazySuspence.js","index.js","Components/Body/Store/Product.module.css","Components/Body/News/News.module.css","Components/Body/Login/Login.module.css","Components/common/FormsControls/FormsControls.module.css","Components/Body/Profile/Profile.module.css","Components/Body/Papers/Papers.module.css","Components/Navbar/Navbar.module.css","Components/Header/Header.module.css","Components/Body/Users/Users.module.css","Components/common/Pagination/Pagination.module.css","Components/Body/Garbage/Garbage.module.css"],"names":["SEND_MESSAGE","initialState","users","id","name","messages","message","createSendNewMessageAction","newMessageBody","type","dialogsReducer","state","arguments","length","undefined","action","messageToState","Object","C_Users_Slava_WebstormProjects_react_test_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","concat","C_Users_Slava_WebstormProjects_react_test_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","sendMessage","module","exports","postsBody","__webpack_require__","p","Boolean","window","location","hostname","match","Navbar","react_default","a","createElement","className","style","nav","item","react_router_dom","to","activeClassName","activeLink","usersPressed","Header","props","header","src","alt","userId","loginBlock","avatar","isAuth","onClick","logOut","instance","axios","withCredentials","baseURL","headers","API-KEY","userApi","getUsers","currentPage","pageSize","get","then","response","data","follow","post","unfollow","delete","authMe","authApi","login","email","password","rememberMe","loginOut","profileAPI","responce","status","put","isFetching","setAuthUserData","setUsersAvatar","authReducer","objectSpread","HeaderContainer","Header_Header","this","React","Component","connect","auth","dispatch","console","log","resultCode","Post","maxLenght","likesCount","requiredField","value","Textarea","_ref","input","meta","objectWithoutProperties","hasError","touched","error","formControl","assign","Input","_ref2","maxLengthCreator10","AddNewPostFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","placeholder","validate","Posts","values","addPost","newPostText","posts","map","el","Posts_Post","key","ADD_POST","postsReducer","newPost","toConsumableArray","PostsContainer","postsPage","createAddPostAction","User","user","followingInProgress","styles","card","photos","small","usersPhoto","followed","disabled","some","Pagination","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","_useState","useState","_useState2","slicedToArray","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pagination","filter","e","selectedPage","Users","common_Pagination_Pagination","totalUsersCount","paginatorPortionSize","Users_User","Preloader","preLoader","updateObjectInArray","entity","entityId","propName","newProp","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_FOLLOWING_IN_PROGRESS","followAccept","unfollowAccept","setToggleFetching","toggleFollowingProgress","inProgress","followUnfollowFlow","asyncToGenerator","regenerator_default","mark","_callee","apiMethod","actionCreator","wrap","_context","prev","next","sent","stop","_x","_x2","_x3","_x4","apply","usersReducer","getUsersSelector","usersPage","getPageSizeSelector","createSelector","totalUsersCountSelector","currentPageSelector","paginatorPortionSizeSelector","isFetchingSelector","followingInProgressSelector","myIdSelector","UsersComponent","componentDidMount","_this","pageNumber","Fragment","common_Preloader_Preloader","Body_Users_Users","compose","myId","_callee2","_context2","bind","_x5","_ref3","_callee3","_context3","_x6","firstLoad","setCurrentPage","items","totalCount","SET_USERS_PROFILE","SET_STATUS","initalState","profile","setStatus","profileReducer","ProfileStatusWithHooks","editMode","setEditMode","_useState3","_useState4","useEffect","deactivateEditMode","updateStatus","onDoubleClick","onChange","currentTarget","autoFocus","onBlur","onKeyPress","Profile","profileBody","row","pictureAndSocial","large","contacts","index","info","fullName","Profile_ProfileStatusWithHooks","lookingForAJob","lookingForAJobDescription","ProfileContainer","params","authorizedUserId","history","getProfile","getStatus","Profile_Profile","profilePage","dispach","withRouter","Product","goods_item","picture","img","priceAndAdd","price","add","shop","image","Shop","Store_Product","Paper","convolute","setConvolute","changeSizeOfPaper","full_dress","Papers","papers","Papers_Paper","ChildComponent","childComponent","isActive","active","data-id","data-name","ParentComponent","setActive","receiveId","Number","target","dataset","n","GarbageFromTosterRu_ChildComponent","temp","ReduxLoginForm","dwsInput","errorMessage","dwsSubmit","profileData","stopSubmit","_error","react_router","container","formData","News","box","disconnect","classes","setClasses","replace","NewsContainer","News_News","initialized","appReducer","reducers","combineReducers","dialogsPage","app","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","DialogsContainer","lazy","App","initializeApp","prevProps","prevState","snapshot","getAuthAvatar","Header_HeaderContainer","Navbar_Navbar","path","render","Suspense","fallback","Profile_ProfileContainer","News_NewsContainer","Posts_PostsContainer","UsersContainer","Body_Login_Login","Store_Shop","Papers_Papers","GarbageFromTosterRu","AppContainer","promise","_data$data","Promise","all","AppDone","es","ReactDOM","src_Components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister","color","usersNotPressed"],"mappings":"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","file":"static/js/main.45ce1c8a.chunk.js","sourcesContent":["const SEND_MESSAGE = 'react_test/dialogs-reduser/SEND-MESSAGE';\r\n\r\nfunction sendMessage(state, action) {\r\n    const message = action.newMessageBody;\r\n    const messageToState = {id: state.messages.length + 1, message: message};\r\n    return {\r\n        ...state,\r\n        messages: [...state.messages, messageToState],\r\n    };\r\n}\r\n\r\nlet initialState = {\r\n    users: [\r\n        {id: 1, name: \"Dima\"},\r\n        {id: 2, name: \"Sasha\"},\r\n        {id: 3, name: \"Masha\"},\r\n        {id: 4, name: \"Dasha\"},\r\n        {id: 5, name: \"Sveta\"}\r\n    ],\r\n\r\n    messages: [\r\n        {id: 1, message: \"hi!\"},\r\n        {id: 2, message: \"How are you!\"},\r\n        {id: 3, message: \"I'm you\"},\r\n        {id: 4, message: \"y are me!\"}\r\n    ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            return sendMessage(state, action);\r\n\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\nexport const createSendNewMessageAction = (newMessageBody) => {\r\n    return {type: SEND_MESSAGE, newMessageBody}\r\n};\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBody\":\"Posts_postsBody__3FJ5W\"};","module.exports = __webpack_public_path__ + \"static/media/Spin-1s-200px.b5a19a3a.svg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\r\nimport style from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nfunction Navbar() {\r\n    return (\r\n        <nav className={style.nav}>\r\n            <div className={style.item}>\r\n                <NavLink to={'/profile'} activeClassName={style.activeLink}>Profile</NavLink>\r\n            </div>\r\n\r\n            <div className={style.item}>\r\n                <NavLink to={'/dialogs'} activeClassName={style.activeLink}>Messages</NavLink>\r\n            </div>\r\n\r\n            <div className={style.item}>\r\n                <NavLink to={'/news'} activeClassName={style.activeLink}>News</NavLink>\r\n            </div>\r\n\r\n            <div className={style.item}>\r\n                <NavLink to={'/posts'} activeClassName={style.activeLink}>Posts</NavLink>\r\n            </div>\r\n\r\n            <div className={style.item}>\r\n                <NavLink activeClassName={style.activeLink}>Users</NavLink>\r\n                <ul className={style.usersPressed}>\r\n                    <li>\r\n                        <NavLink to={'/users/users_list'} activeClassName={style.activeLink}>Users List</NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to={'/users/my_friends'} activeClassName={style.activeLink}>Friends</NavLink>\r\n                    </li>\r\n                </ul>\r\n\r\n            </div>\r\n\r\n            <div className={style.item}>\r\n                <NavLink to={'/store'} activeClassName={style.activeLink}>Store</NavLink>\r\n            </div>\r\n\r\n            <div className={style.item}>\r\n                <NavLink to={'/papers'} activeClassName={style.activeLink}>Papers</NavLink>\r\n            </div>\r\n\r\n            <div className={style.item}>\r\n                <NavLink to={'/garbage'} activeClassName={style.activeLink}>Garbage</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from \"react\";\r\nimport style from './Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nfunction Header(props) {\r\n    return (\r\n        <header className={style.header}>\r\n            <img src='https://cityoflondonsinfonia.files.wordpress.com/2013/04/chanel-logo.jpg' alt={props.userId}/>\r\n            <div className={style.loginBlock}>\r\n                <span>\r\n                    <NavLink to={'/login'}>{props.avatar}</NavLink>\r\n                </span>\r\n                {props.isAuth ?\r\n                    <span>\r\n                        <button onClick={props.logOut}>Log Out</button>\r\n                    </span>\r\n                    : ''}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true, // для работы с cookies\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {'API-KEY': '8fa07788-cfec-4493-aab4-e35ba082ad82'}\r\n});\r\n\r\nexport const userApi = {\r\n\r\n    // получить список пользователей\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n\r\n    // добавить пользователя \"в друзья\"\r\n    follow(id) {\r\n        return instance.post(`follow/${id}`, {}).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n\r\n    // убрать пользователя из \"друзей\"\r\n    unfollow(id) {\r\n        return instance.delete(`follow/${id}`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n\r\n    // узнать  информацию о текущем пользователе / авторизоваться\r\n    authMe() {\r\n        return authApi.authMe();\r\n    }\r\n\r\n};\r\n\r\nexport const authApi = {\r\n    authMe() {\r\n        return instance.get('auth/me', {withCredentials: true}).then(response => {\r\n            return response.data\r\n        });\r\n    },\r\n    login(email, password, rememberMe) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    loginOut() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n};\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`).then(responce => {\r\n            return responce.data\r\n        })\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`).then(responce => {\r\n            return responce.data\r\n        })\r\n    },\r\n\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status});\r\n    }\r\n};\r\n","import React from \"react\";\r\nimport {userApi, profileAPI, authApi} from \"../../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'react_test/auth-reduser/SET-USER-DATA';\r\nconst SET_USERS_AVATAR = 'react_test/auth-reduser/SET-USERS-AVATAR';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    avatar: 'Login',\r\n    isAuth: false,\r\n    isFetching: true\r\n};\r\n\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {...state, ...action.data}\r\n        }\r\n\r\n        case SET_USERS_AVATAR: {\r\n            return {...state, avatar: action.avatar}\r\n        }\r\n\r\n        default:\r\n            return state\r\n\r\n    }\r\n};\r\n\r\nconst setAuthUserData = (userId, email, login, isAuth) => ({type: SET_USER_DATA, data: {userId, email, login, isAuth}});\r\nconst setUsersAvatar = (avatar) => ({type: SET_USERS_AVATAR, avatar});\r\n\r\nexport const authorization = () => {\r\n    return (dispatch) => {\r\n        userApi.authMe().then(data => {\r\n            if (data.resultCode === 0) {\r\n\r\n                console.log(data);\r\n\r\n                dispatch(setAuthUserData(data.data.id, data.data.email, data.data.login, true));\r\n                profileAPI.getProfile(data.data.id).then(profileData => {\r\n                    if (profileData.photos.small) {\r\n                        dispatch(setUsersAvatar(<img src={profileData.photos.small} alt={\"small avatar\"}/>));\r\n                    } else {\r\n                        dispatch(setUsersAvatar(<img\r\n                            src={'https://cs16planet.ru/images/content/avatars/avatar648.jpg'} alt={\"small avatar\"}/>));\r\n                    }\r\n                });\r\n            } else {\r\n                console.log(\"Error of authentication\\nresultCode \" + data.resultCode);\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nexport const getAuthUserData = () => (dispatch) => {\r\n    return userApi.authMe()\r\n        .then(data => {\r\n            if (data.resultCode === 0) {\r\n                let {id, login, email} = data.data;\r\n                dispatch(setAuthUserData(id, email, login, true));\r\n            }\r\n        });\r\n};\r\n\r\nexport const getAuthAvatar = (id) => (dispatch) => {\r\n    profileAPI.getProfile(id).then(profileData => {\r\n        if (profileData.photos.small) {\r\n            dispatch(setUsersAvatar(<img src={profileData.photos.small} alt={\"small avatar\"}/>));\r\n        } else {\r\n            dispatch(setUsersAvatar(<img\r\n                src={'https://cs16planet.ru/images/content/avatars/avatar648.jpg'} alt={\"small avatar\"}/>));\r\n        }\r\n    });\r\n};\r\n\r\nexport const login = (email, password, rememberMe) => {\r\n    return (dispatch) => {\r\n        authApi.login(email, password, rememberMe).then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(authorization());\r\n            } else {\r\n                //обрабатываем не правильный пароль\r\n                //передаем название формочки, которую стопаем\r\n                //вторым параметром ошибку\r\n                // _error кинет общую ошибку, а не в какое то конкретное поле (login, email)\r\n                const message = response.length > 0 ? response.data.message : 'Some error';\r\n                dispatch(stopSubmit('login', {_error: message}));\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nexport const logOut = () => dispatch => {\r\n    console.log(\"click\");\r\n    authApi.loginOut().then(response => {\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false));\r\n            dispatch(setUsersAvatar(''));\r\n        }\r\n    });\r\n};\r\n\r\nexport default authReducer;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logOut} from \"../../redux/redusers/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n      //  this.props.authorization();\r\n    }\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    userId: state.auth.userId,\r\n    email: state.auth.email,\r\n    login: state.auth.login,\r\n    avatar: state.auth.avatar\r\n});\r\n\r\nexport default connect(mapStateToProps, {logOut})(HeaderContainer)","import React from 'react'\r\n\r\nfunction Post(props) {\r\n    return(\r\n        <div>\r\n            <span>{props.data.message}</span>\r\n            <br/>\r\n            <span>Likes: {props.data.likesCount}</span>\r\n            <br/>\r\n            <br/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\n\r\nexport const requiredField = value => {\r\n    if (value) {\r\n        return undefined\r\n    } else {\r\n        return 'Field is required'\r\n    }\r\n};\r\n\r\nexport const maxLengthCreator = maxLenght => value => {\r\n    if (value.length > maxLenght) return `Max length is ${maxLenght} symbols`;\r\n    else return undefined;\r\n};\r\n","import React from 'react';\r\nimport style from './FormsControls.module.css';\r\n\r\n// REST оператор\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    console.log(\"meta.touched \" + meta.touched);\r\n    console.log(\"meta.error \" + meta.error);\r\n    console.log(meta);\r\n\r\n    return (\r\n        <div className={style.formControl + \" \" + (hasError ? style.error : \"\")}>\r\n            <div>\r\n                <textarea {...input}{...props}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    console.log(\"meta.touched \" + meta.touched);\r\n    console.log(\"meta.error \" + meta.error);\r\n    console.log(meta);\r\n\r\n    return (\r\n        <div className={style.formControl + \" \" + (hasError ? style.error : \"\")}>\r\n            <div>\r\n                <input {...input}{...props}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n};\r\n","import React from 'react';\r\nimport style from './Posts.module.css';\r\nimport Post from './Post';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {requiredField, maxLengthCreator} from '../../../utils/validators/validator'\r\nimport {Textarea} from '../../../Components/common/FormsControls/FormsControls'\r\n\r\nconst maxLengthCreator10 = maxLengthCreator(10);\r\n\r\nfunction AddNewPostForm(props) {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div>\r\n            <Field name={'newPostText'}\r\n                   component={Textarea}\r\n                   placeholder={'Post massage'}\r\n                   validate={[requiredField, maxLengthCreator10]}\r\n            />\r\n        </div>\r\n\r\n        <div>\r\n            <button>Add post</button>\r\n        </div>\r\n    </form>;\r\n}\r\n\r\nconst AddNewPostFormRedux = reduxForm({form: 'AddNewPostForm'})(AddNewPostForm);\r\n\r\nfunction Posts(props) {\r\n\r\n    function onAddPost(values) {\r\n        props.addPost(values.newPostText);\r\n    }\r\n\r\n    return (\r\n        <div className={style.postsBody}>\r\n            <h3>Posts</h3>\r\n\r\n            <AddNewPostFormRedux onSubmit={onAddPost}/>\r\n\r\n            <hr/>\r\n            <div>\r\n                {props.posts.map(el => <Post data={el} key={el.id}/>)}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Posts;","const ADD_POST = 'react_test/posts-reduser/ADD-POST';\r\n\r\nfunction addPost(state, action) {\r\n    const newPost = {id: state.posts.length + 1, message: action.newPostText, likesCount: 0};\r\n    return {\r\n        ...state,\r\n        posts: [...state.posts, newPost], // тут push\r\n        newPostText: ''\r\n    }\r\n}\r\n\r\nfunction updateNewPostText(state, newText) {\r\n    return {\r\n        ...state,\r\n        newPostText: newText\r\n    };\r\n}\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: \"Fuck you\", likesCount: 99},\r\n        {id: 2, message: \"Suck the dick\", likesCount: 5},\r\n        {id: 3, message: \"Show me your tits\", likesCount: 4},\r\n        {id: 4, message: \"Jololo\", likesCount: 34},\r\n        {id: 5, message: \"fap fpa\", likesCount: 87},\r\n    ],\r\n};\r\n\r\nconst postsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            return addPost(state, action);\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const createAddPostAction = (newPostText) => {\r\n    return {type: ADD_POST, newPostText}\r\n};\r\n\r\nexport default postsReducer;","import React from 'react';\r\nimport Posts from './Posts'\r\nimport {createAddPostAction} from \"../../../redux/redusers/posts-reducer\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.postsPage.posts,\r\n        newPostText: state.postsPage.newPostText\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostText) => {\r\n            dispatch(createAddPostAction(newPostText));\r\n        }\r\n    }\r\n};\r\n\r\nconst PostsContainer = connect(mapStateToProps, mapDispatchToProps)(Posts);\r\nexport default PostsContainer;","import React from 'react';\r\nimport styles from './Users.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst User = ({user, followingInProgress, unfollow, follow, }) => {\r\n    return <div key={user.id} className={styles.card}>\r\n                        <span>\r\n                            <div>\r\n                                <NavLink to={'/profile/' + user.id}>\r\n                                <img\r\n                                    src={user.photos.small != null ? user.photos.small : 'https://cs16planet.ru/images/content/avatars/avatar648.jpg'}\r\n                                    className={styles.usersPhoto}/>\r\n                                </NavLink>\r\n                            </div>\r\n                            <div>\r\n                                {user.followed ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                                      onClick={() => {\r\n                                                          unfollow(user.id)\r\n                                                      }}>Unfollow</button> :\r\n\r\n                                    <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                            onClick={() => {\r\n                                                follow(user.id)\r\n                                            }}>Follow</button>}\r\n                            </div>\r\n                        </span>\r\n        <span>\r\n                            <span>\r\n                                <div>{user.name}</div>\r\n                                <div>{user.status}</div>\r\n                                <div>{user.id}</div>\r\n                            </span>\r\n                        </span>\r\n    </div>\r\n};\r\n\r\nexport default User;","import React, {useState} from 'react';\r\nimport style from './Pagination.module.css';\r\n\r\nconst Pagination = ({totalItemsCount, pageSize, onPageChanged, currentPage, portionSize, ...props}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    const portionCount = Math.ceil(pagesCount / portionSize);\r\n    const [portionNumber, setPortionNumber] = useState(1);\r\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    const rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return <div className={style.pagination}>\r\n        {portionNumber > 1 &&\r\n        <button onClick={() => setPortionNumber(portionNumber - 1)}>\r\n            prev\r\n        </button>}\r\n\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map(p => {\r\n                return <span onClick={(e) => {\r\n                    onPageChanged(p)\r\n                }} className={currentPage === p ? style.selectedPage : ''}\r\n                             key={p}>{p}</span>\r\n            })}\r\n\r\n        {portionCount > portionNumber &&\r\n        <button onClick={() => setPortionNumber(portionNumber + 1)}>\r\n            next\r\n        </button>}\r\n\r\n    </div>\r\n};\r\n\r\nexport default Pagination;","import React from 'react';\r\nimport User from './User';\r\nimport Pagination from '../../common/Pagination/Pagination'\r\n\r\nconst Users = (props) => {\r\n    return <div>\r\n        <Pagination totalItemsCount={props.totalUsersCount}\r\n                    pageSize={props.pageSize}\r\n                    onPageChanged={props.onPageChanged}\r\n                    currentPage={props.currentPage}\r\n                    portionSize={props.paginatorPortionSize}\r\n        />\r\n\r\n        <div>\r\n            {\r\n                props.users.map(user => <User key={user.id}\r\n                                              user={user}\r\n                                              followingInProgress={props.followingInProgress}\r\n                                              unfollow={props.unfollow}\r\n                                              follow={props.follow}\r\n                />)\r\n            }\r\n        </div>\r\n    </div>\r\n};\r\n\r\nexport default Users;\r\n","import React from 'react';\r\nimport preLoader from '../../../assets/images/Spin-1s-200px.svg';\r\n\r\nconst Preloader = (props) => {\r\n    return <div className={\"preloader\"}>\r\n        <img src={preLoader}/>\r\n    </div>\r\n};\r\n\r\nexport default Preloader\r\n","export const updateObjectInArray = (entity, entityId, propName, newProp) => {\r\n    return entity.map(u => {\r\n        if (u[propName] === entityId) {\r\n            return {...u, ...newProp}\r\n        }\r\n        return u\r\n    })\r\n};","//AC - action creator\r\nimport {userApi} from \"../../api/api\";\r\nimport {updateObjectInArray} from \"../../utils/object-helpers\";\r\n\r\nconst FOLLOW = \"react_test/users-reduser/FOLLOW\";\r\nconst UNFOLLOW = \"react_test/users-reduser/UNFOLLOW\";\r\nconst SET_USERS = \"react_test/users-reduser/SET-USERS\";\r\nconst SET_CURRENT_PAGE = \"react_test/users-reduser/SET-CURRENT-PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"react_test/users-reduser/SET-TOTAL-USERS-COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"react_test/users-reduser/TOGGLE-IS-FETCHING\";\r\nconst TOGGLE_FOLLOWING_IN_PROGRESS = \"react_test/users-reduser/TOGGLE-FOLLOWING-IN-PROGRESS\";\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 20,\r\n    paginatorPortionSize: 10,\r\n    totalUsersCount: 21,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n};\r\n\r\nfunction usersReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return{\r\n                    ...state,\r\n                    users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n                };\r\n\r\n        case UNFOLLOW:\r\n            return (\r\n                {\r\n                    ...state,\r\n                    users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n                }\r\n            );\r\n\r\n        case SET_USERS: {\r\n            // return {...state, users: [...state.users, ...action.users]} // те, которые есть склеиваются с пришлыми\r\n            return {...state, users: action.users} // пользователи перезатираются\r\n        }\r\n\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.totalUsersCount}\r\n        }\r\n\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n\r\n        case TOGGLE_FOLLOWING_IN_PROGRESS: {\r\n            return {\r\n                ...state, followingInProgress: action.inProgress ? [...state.followingInProgress, action.userId] :\r\n                    state.followingInProgress.filter(id => id != action.userId)\r\n            };\r\n        }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst followAccept = (userId) => ({type: FOLLOW, userId});\r\nconst unfollowAccept = (userId) => ({type: UNFOLLOW, userId});\r\nconst setUsers = (users) => ({type: SET_USERS, users});\r\nconst setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nconst setUsersTotalCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount});\r\nconst setToggleFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nconst toggleFollowingProgress = (inProgress, userId) => ({\r\n    type: TOGGLE_FOLLOWING_IN_PROGRESS,\r\n    inProgress,\r\n    userId\r\n});\r\n\r\n// через thunk\r\nexport const getUsers = (currentPage, pageSize, firstLoad = true) => {\r\n    return (dispatch) => {\r\n        dispatch(setToggleFetching(true));\r\n        userApi.getUsers(currentPage, pageSize).then(data => {\r\n\r\n            if (!firstLoad) {\r\n                dispatch(setCurrentPage(currentPage)); // перезапись текущей страницы\r\n            }\r\n\r\n            dispatch(setToggleFetching(false));\r\n            dispatch(setUsers(data.items));\r\n\r\n            // заблокирова кнопку follow/unfollow для текущего пользователя (нельзя былло добавить в вдрузья самого себя)\r\n            // срабатывает только при первой загрузке componentDidMount, при onPageChanged  работать не должно, поэтому я ввел\r\n            // третий параметр\r\n\r\n            if (firstLoad) {\r\n                dispatch(setUsersTotalCount(data.totalCount)); // записывать общее число страниц нужно только при componentDidMount\r\n                userApi.authMe().then(data => {\r\n                    dispatch(toggleFollowingProgress(true, data.data.id));\r\n                });\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n\r\n    const responseData = await apiMethod(userId);\r\n    if (responseData.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\n\r\nexport const follow = (id) => {\r\n    return async (dispatch) => {\r\n        await followUnfollowFlow(dispatch, id, userApi.follow.bind(userApi), followAccept);\r\n    }\r\n};\r\n\r\nexport const unfollow = (id) => {\r\n    return async (dispatch) => {\r\n        await followUnfollowFlow(dispatch, id, userApi.unfollow.bind(userApi), unfollowAccept);\r\n    }\r\n};\r\n\r\nexport default usersReducer;\r\n","// селектор - это функция, которая принимает state и возвращает то что нужно бизнесу\r\n\r\nimport {createSelector} from \"reselect\";\r\n\r\nexport const getUsersSelector = (state) => {\r\n    return state.usersPage.users\r\n};\r\n\r\n\r\n// придумаем какой нибудь сложный селлектор\r\n\r\nexport const getUsersSuperSelector = createSelector(getUsersSelector, (users) =>{\r\n    // в createSelector можно передать кучу приметивных селекторов\r\n    // он будет срабатывать, только года что то меняется\r\n    // Здесь будет сложная логика\r\n\r\n    return users.filter(u=> true);\r\n});\r\n\r\n\r\nexport const getPageSizeSelector = (state) => {\r\n    return state.usersPage.pageSize\r\n};\r\n\r\nexport const totalUsersCountSelector = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n};\r\n\r\nexport const currentPageSelector = (state) => {\r\n    return state.usersPage.currentPage\r\n};\r\n\r\nexport const paginatorPortionSizeSelector = (state) => {\r\n    return state.usersPage.paginatorPortionSize\r\n};\r\n\r\nexport const isFetchingSelector = (state) => {\r\n    return state.usersPage.isFetching\r\n};\r\n\r\nexport const followingInProgressSelector = (state) => {\r\n    return state.usersPage.followingInProgress\r\n};\r\n\r\nexport const myIdSelector = (state) => {\r\n    return state.auth.userId\r\n};\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport Users from './Users';\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport {follow, unfollow, getUsers} from \"../../../redux/redusers/users-reducer\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    currentPageSelector,\r\n    followingInProgressSelector,\r\n    getPageSizeSelector,\r\n    getUsersSelector, isFetchingSelector,\r\n    myIdSelector,\r\n    totalUsersCountSelector, paginatorPortionSizeSelector\r\n} from \"../../../redux/selectors/users-selectors\";\r\n\r\nclass UsersComponent extends React.Component {\r\n\r\n    componentDidMount = () => {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    };\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize, false);\r\n    };\r\n\r\n    render() {\r\n        /* тк можно возвращать только одну компоненту этот список используется для заглушки, если не хочешь возвращать div*/\r\n        return <>\r\n            {this.props.isFetching === true ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   paginatorPortionSize={this.props.paginatorPortionSize}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsersSelector(state),\r\n        pageSize: getPageSizeSelector(state),\r\n        paginatorPortionSize: paginatorPortionSizeSelector(state),\r\n        totalUsersCount: totalUsersCountSelector(state),\r\n        currentPage: currentPageSelector(state),\r\n        isFetching: isFetchingSelector(state),\r\n        followingInProgress: followingInProgressSelector(state),\r\n        myId: myIdSelector(state)\r\n    }\r\n};\r\n\r\n/*\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProgress: state.usersPage.followingInProgress,\r\n        myId: state.auth.userId\r\n    }\r\n};\r\n\r\nниже укороченный синтаксис\r\n*/\r\n\r\nexport default compose(connect(mapStateToProps, {follow, unfollow, getUsers}))(UsersComponent)","import {profileAPI} from \"../../api/api\";\r\n\r\nconst SET_USERS_PROFILE = 'react_test/profile-reduser/SET-USERS-PROFILE';\r\nconst TOGGLE_IS_FETCHING = 'react_test/profile-reduser/TOGGLE-IS-FETCHING';\r\nconst SET_STATUS = 'react_test/profile-reduser/SET-STATUS';\r\n\r\nlet initalState = {\r\n    profile: null,\r\n    isFetching: true,\r\n    status: ''\r\n};\r\n\r\nfunction profileReducer(state = initalState, action) {\r\n    switch (action.type) {\r\n        case SET_USERS_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n\r\n        case SET_STATUS: {\r\n            return {...state, status: action.status}\r\n        }\r\n        default: {\r\n            return state\r\n        }\r\n\r\n    }\r\n}\r\n\r\nconst setProfileInfo = (profile) => ({type: SET_USERS_PROFILE, profile});\r\nconst setToggleFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nconst setStatus = (status) => ({type: SET_STATUS, status});\r\n\r\nexport const getProfile = (userId) => {\r\n    return (dispatch) => {\r\n        dispatch(setToggleFetching(true));\r\n        profileAPI.getProfile(userId).then(data => {\r\n            dispatch(setToggleFetching(false));\r\n            dispatch(setProfileInfo(data));\r\n        });\r\n    }\r\n};\r\n\r\nexport const getStatus = (userId) => (dispach) => {\r\n    profileAPI.getStatus(userId).then(status => dispach(setStatus(status)));\r\n};\r\n\r\nexport const updateStatus = (status) => (dispach) => {\r\n    profileAPI.updateStatus(status).then(responce => {\r\n        if (responce.data.resultCode === 0) {\r\n            dispach(setStatus(status)) ;\r\n        }\r\n    });\r\n};\r\n\r\nexport default profileReducer;","import React, {useState, useEffect} from 'react';\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\n\r\nconst ProfileStatusWithHooks = props => {\r\n\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [status, setStatus] = useState(props.status);\r\n\r\n    // механизм подобный методам ЖЦ\r\n    // отслеживает какой либо элемент и отрисовывает компоненту при его изменении (синхронизация)\r\n    // в данном случае [props.status]\r\n    useEffect(() => {\r\n            setStatus(props.status);\r\n    }, [props.status]);\r\n    \r\n    \r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    };\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    };\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    };\r\n\r\n    const onEnterPress = (e) => {\r\n        console.log(`key: ${e.key}`);\r\n        if (e.key === 'Enter') {\r\n            deactivateEditMode();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={activateEditMode}>Статус: {props.status}</span>\r\n            </div>\r\n            }\r\n\r\n            {editMode &&\r\n            <div>\r\n                <input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode} value={status}\r\n                       onKeyPress={onEnterPress}/>\r\n            </div>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ProfileStatusWithHooks\r\n\r\n\r\n// this.activateEditMode.bind(this)","import React from 'react';\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\n\r\nclass ProfileStatus extends React.Component {\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status\r\n    };\r\n\r\n    activateEditMode = () => {\r\n        /*\r\n        this.state.editMode = true;\r\n        this.forceUpdate(); // - насильно перерисовать компоненту\r\n        */\r\n\r\n        this.setState({ // метод из React.Component, переписывает указанные в переданном объете свойства\r\n            editMode: true\r\n        });\r\n    };\r\n\r\n    deactivateEditMode = () => {\r\n        this.setState({\r\n            editMode: false\r\n        });\r\n        this.props.updateStatus(this.state.status);\r\n    };\r\n\r\n    onStatusChange = (e) => {\r\n        this.setState({\r\n            status: e.currentTarget.value\r\n        });\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.status !== this.props.status) {\r\n            this.setState({\r\n                status: this.props.status\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <div>\r\n            {!this.state.editMode &&\r\n            <div onDoubleClick={this.activateEditMode}><span>Статус: {this.props.status}</span></div>}\r\n            {this.state.editMode &&\r\n            <div><input onChange={this.onStatusChange} autoFocus={true} onBlur={this.deactivateEditMode}\r\n                        value={this.state.status}/></div>}\r\n        </div>\r\n    }\r\n};\r\n\r\nexport default ProfileStatus\r\n\r\n\r\n// this.activateEditMode.bind(this)","import React from 'react';\r\nimport style from './Profile.module.css'\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport ProfileStatus from './ProfileStatu'\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\nfunction Profile(props) {\r\n\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    } else {\r\n        return (\r\n            <div className={style.profileBody}>\r\n                {console.log(props)}\r\n                <div className={style.row}>\r\n                    <div className={style.pictureAndSocial}>\r\n                        <img src={props.profile.photos.large} alt=\"large photo\"/>\r\n\r\n                        <div>\r\n                            <ul>\r\n                                {Object.values(props.profile.contacts).map((a, index) => a != null ?\r\n                                    <li key={index}>{a}</li> : '')}\r\n                            </ul>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div className={style.info}>\r\n                        <span><h1>{props.profile.fullName}</h1></span>\r\n                        <span><h5>id: {props.profile.userId}</h5></span>\r\n\r\n                        <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus}/>\r\n\r\n                        <span><h5>{props.profile.lookingForAJob}</h5></span>\r\n                        <span><h5>{props.profile.lookingForAJobDescription}</h5></span>\r\n\r\n\r\n                    </div>\r\n                </div>\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {getProfile, getStatus, updateStatus} from '../../../redux/redusers/profile-reducer'\r\nimport Profile from \"./Profile\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const userId = (!this.props.match.params.userId) ? this.props.authorizedUserId : this.props.match.params.userId; // тут чекается адресная строка\r\n        if (!userId) {\r\n            this.props.history.push('/login');\r\n        }\r\n        this.props.getProfile(userId);\r\n        this.props.getStatus(userId);\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.props.isFetching === true ? <Preloader/> : null}\r\n                {}\r\n                <Profile {...this.props}/>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\n/*\r\nconst AuthRedirectComponent = withAuthRedirect(ProfileContainer);\r\n\r\nconst withUrlDataContainerComponent = withRouter(AuthRedirectComponent); // Это как третий контейнер (для аякса, для редакса, для взаимодействия с урлом)\r\n*/\r\nexport default compose(connect(mapStateToProps, {getProfile, getStatus, updateStatus}),\r\n    withRouter\r\n)(ProfileContainer)\r\n\r\n","import React from 'react';\r\nimport style from './Product.module.css';\r\n\r\nfunction Product(props) {\r\n\r\n    const showKey = () => {\r\n        console.log(props.id);\r\n    };\r\n\r\n    return (\r\n        <div className={style.goods_item}>\r\n            <div className={style.name}>\r\n                <h3>{props.name}</h3>\r\n            </div>\r\n\r\n            <div className={style.picture}>\r\n                <img src={props.img}/>\r\n            </div>\r\n\r\n            <div className={style.priceAndAdd}>\r\n                <div className={style.price}>\r\n                    <h5>{props.price}$</h5>\r\n                </div>\r\n\r\n                <div className={style.add}>\r\n                    <button onClick={() => showKey()}>Add</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Product;","import React from 'react';\r\nimport Product from './Product';\r\n\r\nconst shop = [\r\n    {\"id\": 10001, \"name\": \"vanish\", \"image\": \"1014474865.jpg\", \"price\": 50},\r\n    {\"id\": 10002, \"name\": \"finish lemon\", \"image\": \"1021028103.jpg\", \"price\": 55},\r\n    {\"id\": 10003, \"name\": \"QNT delicious whey\", \"image\": \"1022398092.jpg\", \"price\": 49},\r\n    {\"id\": 10004, \"name\": \"Nitro TECH\", \"image\": \"1023887020.jpg\", \"price\": 55},\r\n    {\"id\": 10005, \"name\": \"Finish powerball\", \"image\": \"6000004255.jpg\", \"price\": 87}\r\n];\r\n\r\nfunction Shop(props) {\r\n    return (<div>\r\n        <h1>Store</h1>\r\n        {shop.map(item => <Product key={item.id} id={item.id} name={item.name} img={item.image} price={item.price}/>)}\r\n    </div>)\r\n}\r\n\r\nexport default Shop;","import React, {useState} from 'react';\r\nimport style from \"./Papers.module.css\";\r\n\r\nfunction Paper(props) {\r\n\r\n    const [convolute, setConvolute] = useState(props.status);\r\n\r\n    const changeSizeOfPaper = () => {\r\n        setConvolute(!convolute)\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                {\r\n                    !convolute &&\r\n                    <div className={style.full_dress} onClick={changeSizeOfPaper}>\r\n                        <h3>Развернутый</h3>\r\n                    </div>\r\n                }\r\n\r\n                {\r\n                    convolute &&\r\n                    <div className={style.convolute} onClick={changeSizeOfPaper}>\r\n                        <h3>Свернутый</h3>\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paper;\r\n\r\n","import React, {useState} from 'react';\r\nimport style from './Papers.module.css';\r\nimport Paper from './Paper';\r\n\r\nfunction Papers(props) {\r\n    let papers = [];\r\n\r\n    for (let i = 0; i < 5; i++) {\r\n        papers.push(<Paper status={(i !== 0)}/>) //(i === 0) ? false : true\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {papers}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Papers;","import React, {useState, useEffect} from 'react';\r\nimport style from './Garbage.module.css';\r\n\r\nconst ChildComponent = (props) => {\r\n\r\n    console.log(\"ChildComponent props\");\r\n    console.log(props);\r\n\r\n    return (\r\n        <div\r\n            className={`${style.childComponent} ${props.isActive ? `${style.active}` : ''}`}\r\n            onClick={props.onClick}\r\n            data-id={props.id}\r\n            data-name={props.name}\r\n        >\r\n            <h3>{props.name}</h3>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nconst ParentComponent = ({items}) => {\r\n    items = [\r\n        {id: 0, name: 'один'},\r\n        {id: 1, name: 'два'},\r\n        {id: 2, name: 'три'}\r\n    ];\r\n\r\n    const [active, setActive] = useState(null);\r\n\r\n    const onClick = e => {\r\n        // узнать кто именно из детей вызвал вызвал - e.target\r\n        const receiveId = Number(e.target.dataset.id);\r\n        console.log(\"came \" + receiveId + \"; \" + \"active \" + active);\r\n        if (receiveId === active) {\r\n            console.log(\"Set null\");\r\n            setActive(null);\r\n        } else {\r\n            console.log(\"Set \" + receiveId);\r\n            setActive(receiveId);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {items.map(n =>\r\n                <ChildComponent\r\n                    key={n.id}\r\n                    onClick={onClick}\r\n                    isActive={(n.id === active) ? true : false}\r\n                    temp={active}\r\n                    {...n} // копирует все содержимое items\r\n                />\r\n            )}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ParentComponent;","import React from 'react';\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport style from './Login.module.css';\r\nimport {Input} from \"../../common/FormsControls/FormsControls\";\r\nimport {requiredField} from \"../../../utils/validators/validator\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../../redux/redusers/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div className={style.dwsInput}>\r\n                <Field placeholder={\"Login/Email\"} name={'email'} component={Input} type={'email'}\r\n                       validate={[requiredField]}/>\r\n            </div>\r\n            <div className={style.dwsInput}>\r\n                <Field placeholder={\"Password\"} name={'password'} component={Input} type={'password'}\r\n                       validate={[requiredField]}/>\r\n            </div>\r\n            <div>\r\n                <Field type=\"checkbox\" name={'remember me'} component={Input}/> remember me\r\n            </div>\r\n            {console.log(\"props.error \" + error)}\r\n            {error &&\r\n                <div className={style.errorMessage}>\r\n                    {error}\r\n                </div>\r\n            }\r\n            <div>\r\n                <button className={style.dwsSubmit}>Enter</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\n\r\nconst ReduxLoginForm = reduxForm({\r\n    form: 'login' // уникальное строговое имя (для state)\r\n})(LoginForm);\r\n\r\n\r\nconst Login = ({login, isAuth}) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        console.log(formData);\r\n        login(formData.email, formData.password, formData.rememberMe);\r\n    };\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <div className={style.container}>\r\n            <h1>LOGIN</h1>\r\n            <ReduxLoginForm onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default connect(mapStateToProps, {login})(Login)","import React, {useState} from 'react'\r\nimport style from './News.module.css'\r\n\r\nfunction News() {\r\n    //это можно сделать хуком и менять состояние цвета, для такой херни и нужны хуки\r\n    // классы тоже можно менять через состояние, наверное)\r\n\r\n    const [active, setActive] = useState(false);\r\n    const [classes, setClasses] = useState(`${style.box} ${style.disconnect}`);\r\n\r\n    const click = () => {\r\n        if (active === false) {\r\n            setClasses(classes.replace(style.disconnect, style.active));\r\n            setActive(true);\r\n        } else {\r\n            setClasses(classes.replace(style.active, style.disconnect));\r\n            setActive(false);\r\n        }\r\n        console.log(classes);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className={classes}>News\r\n                <div>\r\n                    <h5>{classes}</h5>\r\n                    <button onClick={() => click()}>test</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default News","import React from \"react\";\r\nimport News from \"./News\"\r\nimport {compose} from \"redux\";\r\n\r\nclass NewsContainer extends React.Component {\r\n    componentDidMount() {\r\n    }\r\n\r\n    render() {\r\n        return <News {...this.props}/>\r\n    }\r\n}\r\n\r\nexport default compose ()(NewsContainer)","import React from \"react\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = '_react_test/app-reduser/INITIALIZED-SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n\r\n    //dispatch(somethingelse());\r\n    //dispatch(somethingelse());\r\n\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess());\r\n        });\r\n};\r\n\r\nexport default appReducer\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport postsReducer from \"./redusers/posts-reducer\";\r\nimport dialogsReducer from \"./redusers/dialogs-reducer\";\r\nimport usersReducer from \"./redusers/users-reducer\";\r\nimport profileReducer from \"./redusers/profile-reducer\";\r\nimport authReducer from \"./redusers/auth-reducer\";\r\nimport appReducer from \"./redusers/app-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form'\r\n\r\nlet reducers = combineReducers(\r\n    {\r\n        postsPage: postsReducer, //каждому свойтву из store соответствуеь свой редьюсер\r\n        dialogsPage: dialogsReducer,\r\n        usersPage: usersReducer,\r\n        profilePage: profileReducer,\r\n        auth: authReducer,\r\n        app: appReducer,\r\n        form: formReducer\r\n    }\r\n);\r\n\r\n// Добавил composeEnhancers для работы приложения Redux dev tools\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nlet store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware))); // после этого создастся state с свойствами postPage и dialogsPage...\r\n// все данные из redux идут через Контекст\r\n\r\n// потом убрать. Это для доступа к стору из консоли\r\nwindow.__store__ = store;\r\n\r\nexport default store","import React, {Component} from 'react';\nimport './App.css';\nimport Navbar from '../Components/Navbar/Navbar';\nimport {BrowserRouter, Route, withRouter} from \"react-router-dom\";\nimport HeaderContainer from '../Components/Header/HeaderContainer';\nimport PostsContainer from \"./Body/Posts/PostsContainer\";\nimport UsersContainer from \"./Body/Users/UsersContainer\";\nimport ProfileContainer from \"./Body/Profile/ProfileContainer\";\nimport Store from \"./Body/Store/Shop\";\nimport Papers from \"./Body/Papers/Papers\";\nimport Garbage from \"./Body/Garbage/GarbageFromTosterRu\";\nimport Login from \"./Body/Login/Login\";\nimport NewsContainer from \"./Body/News/NewsContainer\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"../redux/redusers/app-reducer\";\nimport Preloader from \"./common/Preloader/Preloader\";\nimport {getAuthAvatar} from \"../redux/redusers/auth-reducer\";\nimport store from \"../redux/redux-store\";\nimport {withLazySuspense} from \"../hoc/withLazySuspence\";\n\n// lazy импорт, импортируется только когда надо\nconst DialogsContainer = React.lazy(() => import('./Body/Dialogs/DialogsContainer'));\n\n// <Route path={'/profile/:userId?'} - вопросительный знак делает этот параметр функциональным\n// Конвертировать в классовую компоненту ctrl + alt + shift + T\n\n//28.09.2019 lesson 94 - сделал из DialogsContainer lazy\n\nclass App extends Component {\n\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (prevProps.userId !== this.props.userId) {\n            console.log(this.props.userId);\n            this.props.getAuthAvatar(this.props.userId);\n        }\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div className=\"app-wrapper\">\n                <HeaderContainer/>\n\n                <div className=\"navbar\">\n                    <Navbar/>\n                </div>\n\n                <div className={'content'}>\n                    <Route path={'/dialogs'}\n                        // ленивая загрузка реализована через HOC. Но можно делать и явно. В документации все подробно\n                        // описано. Поймет и дебил. Так же можно обрабатывать и отлавливать ошибки.\n                           render={withLazySuspense(DialogsContainer)}/>\n\n                    <Route path={'/profile/:userId?'}\n                           render={() => (<ProfileContainer/>)}/>\n\n                    <Route path={'/news'}\n                           render={() => (<NewsContainer/>)}/>\n\n                    <Route path={'/posts'}\n                           render={() => (<PostsContainer/>)}/>\n\n                    <Route path={'/users'}\n                           render={() => (<UsersContainer/>)}/>\n\n                    <Route path={'/login'}\n                           render={() => (<Login/>)}/>\n\n                    <Route path={'/store'}\n                           render={() => (<Store/>)}/>\n\n                    <Route path={'/papers'}\n                           render={() => (<Papers/>)}/>\n\n                    <Route path={'/garbage'}\n                           render={() => (<Garbage/>)}/>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized,\n    userId: state.auth.userId\n});\n\nconst AppContainer = compose(withRouter,\n    (connect(mapStateToProps, {initializeApp, getAuthAvatar})))(App);\n\nconst AppDone = (props) => {\n    return (<BrowserRouter>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </BrowserRouter>)\n};\n\nexport default AppDone;","import React from 'react';\r\n\r\nexport const withLazySuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    };\r\n};","import React from 'react';\nimport * as serviceWorker from './serviceWorker';\nimport ReactDOM from \"react-dom\";\nimport AppDone from \"./Components/App\";\n\nReactDOM.render(\n    <AppDone/>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"goods_item\":\"Product_goods_item__1VZt0\",\"name\":\"Product_name__KcLQW\",\"picture\":\"Product_picture__eaM1R\",\"priceAndAdd\":\"Product_priceAndAdd__1tNkt\",\"price\":\"Product_price__2_i3Y\",\"add\":\"Product_add__3Wwab\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"News_box__12md6\",\"active\":\"News_active__6-l6Z\",\"disconnect\":\"News_disconnect__3OEYa\",\"color\":\"News_color__ACZGQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Login_container__1B5YB\",\"dwsSubmit\":\"Login_dwsSubmit__1M4XA\",\"dwsInput\":\"Login_dwsInput__2YMAk\",\"errorMessage\":\"Login_errorMessage__CtvHG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__lYFFh\",\"error\":\"FormsControls_error__RGOYY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileBody\":\"Profile_profileBody__2wZAC\",\"row\":\"Profile_row__1ojMc\",\"pictureAndSocial\":\"Profile_pictureAndSocial__3l99r\",\"info\":\"Profile_info__71Nkv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"convolute\":\"Papers_convolute__1l6Xs\",\"full_dress\":\"Papers_full_dress__nC4aF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__I8edd\",\"item\":\"Navbar_item__5rG_L\",\"activeLink\":\"Navbar_activeLink__2q0DS\",\"usersPressed\":\"Navbar_usersPressed__2_2Oq\",\"usersNotPressed\":\"Navbar_usersNotPressed__18_7N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2AByi\",\"loginBlock\":\"Header_loginBlock__1kPFM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"Users_usersPhoto__2U3Zh\",\"card\":\"Users_card__38db5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__2qvOn\",\"selectedPage\":\"Pagination_selectedPage__3S3wI\",\"active\":\"Pagination_active__1T1GS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"childComponent\":\"Garbage_childComponent__10FcR\",\"active\":\"Garbage_active__3ZgSp\"};"],"sourceRoot":""}